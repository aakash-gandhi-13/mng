(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16c36071"],{4284:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"padding-level-1",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-row",[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ACCOUNT")))])]),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ITEMCODE")))])]),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{value:"111",disabled:""},model:{value:t.itemCode,callback:function(e){t.itemCode=e},expression:"itemCode"}})],1),a("b-col",{attrs:{cols:"12",xl:"2"}},[a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ITEMNAME")))])]),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{value:"ガス代",disabled:""},model:{value:t.itemName,callback:function(e){t.itemName=e},expression:"itemName"}})],1)],1),a("br"),a("b-row",[a("b-col",{attrs:{xl:"4"}},[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"6"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("SETTINGYEAR")))])],1),a("b-col",{attrs:{cols:"12",xl:"6"}},[a("b-form-select",{attrs:{plain:!0,options:t.options,"value-field":"item","text-field":"name"},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)],1)],1),a("b-col",{attrs:{xl:"4"}},[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"6"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("COMPANYSIZE")))])],1),a("b-col",{attrs:{cols:"12",xl:"6"}},[a("b-form-select",{attrs:{plain:!0,options:t.CompanySizeoptions,"value-field":"item","text-field":"name"},model:{value:t.$v.selectedCompanySize.$model,callback:function(e){t.$set(t.$v.selectedCompanySize,"$model",e)},expression:"$v.selectedCompanySize.$model"}}),a("show-errors",{attrs:{control:t.$v.selectedCompanySize,field:t.$t("COMPANYSIZE")}})],1)],1)],1)],1),a("br"),a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{xl:"4"}},[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"6"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("STANDARDMONTHLYFEE")))])],1),a("b-col",[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"10",xl:"8"}},[a("b-form-input",{staticClass:"form-control",attrs:{maxlength:"7",onkeypress:"return ( (event.charCode !=8 && event.charCode ==0) || (event.charCode >= 48 && event.charCode <= 57))",value:"50"},model:{value:t.monthlyFee,callback:function(e){t.monthlyFee=e},expression:"monthlyFee"}})],1),a("b-col",{attrs:{cols:"2",xl:"1"}},[t._v(" "+t._s(t.$t("DASHBOARD.COST_UNIT"))+" ")])],1)],1)],1)],1),a("b-col",{attrs:{xl:"4"}},[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"6"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("INDUSTRYAVERAGE")))])],1),a("b-col",[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"10",xl:"8"}},[a("b-form-input",{staticClass:"form-control",attrs:{maxlength:"7",onkeypress:"return ( (event.charCode !=8 && event.charCode ==0) || (event.charCode >= 48 && event.charCode <= 57))",value:"150,000"},model:{value:t.costFeeUpperLimit,callback:function(e){t.costFeeUpperLimit=e},expression:"costFeeUpperLimit"}})],1),a("b-col",{attrs:{cols:"2",xl:"1"}},[t._v(" "+t._s(t.$t("DASHBOARD.COST_UNIT"))+" ")])],1)],1)],1)],1)],1),a("br"),a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{xl:"6"}},[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"4"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("INDUSTRY")))])],1),a("b-col",{attrs:{cols:"10",xl:"6"}},[a("b-form-input",{staticClass:"form-control",attrs:{disabled:"",value:"小売業"},model:{value:t.$v.industryName.$model,callback:function(e){t.$set(t.$v.industryName,"$model",e)},expression:"$v.industryName.$model"}}),a("show-errors",{attrs:{control:t.$v.industryName,field:t.$t("INDUSTRY")}})],1)],1)],1)],1),a("div",{staticClass:"border border-dark pl-4 pr-4 mt-2"},[a("b-row",[a("SubMenuTree",{attrs:{treeTitle:"",industry:!0,data:t.treeData,"tree-options":t.treeOptions},on:{"update-expense-type":t.updateIndustryItem}})],1)],1),a("br"),a("b-button",{staticClass:"px-4 align-content-center",attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.buttonSelect)+" "),t.isBusy?a("i",{staticClass:"fa fa-spinner fa-spin",attrs:{disabled:t.isBusy}}):t._e()]),a("br"),a("br")],1)],1)},r=[],n=(a("8e6e"),a("cadf"),a("456d"),a("96cf"),a("3b8d")),i=(a("7514"),a("ac6a"),a("6b54"),a("a481"),a("bd86")),o=a("2f62"),c=a("d99c"),l=a("3f54"),u=a("b5ae"),d=a("c827"),m=a("2f4e");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b=l["a"].get("basic"),f={name:"JudgementSettingYearUpdate",components:{SubMenuTree:c["a"],ShowErrors:d["a"]},data:function(){return{account:"",itemCode:"",itemName:"",industryName:"",monthlyFee:"",upperLimit:"",lowerLimit:"",costFeeUpperLimit:"",selectedYear:"",options:[],CompanySizeoptions:[{item:"1",name:"小規模"},{item:"2",name:"中規模"},{item:"3",name:"大規模"}],selectedCompanySize:"",treeOptions:{},allTreeData:[],treeData:[],allIndustryTreeData:[],industryNo:"",kbn2Data:[],isBusy:"",accountCd:"",buttonSelect:this.$t("SAVE"),currentSelectedIndustryItem:""}},validations:{industryName:{required:u["required"]},selectedCompanySize:{required:u["required"]}},computed:h({},Object(o["b"])({masterData:"getExpenseYMData",selected_industry_item:"getSelectedIndustryItem"})),mounted:function(){this.getIndustryTreeData(),this.setYearOptions()},methods:{cancel:function(){this.$refs["tree-modal1"].hide()},setYearOptions:function(){for(var t=parseInt((new Date).getFullYear())-10,e=parseInt((new Date).getFullYear())+10,a=t;a<=e;a++)this.options.push({item:a,name:a+this.$t("YEAR")})},filterByCurrency:function(t){try{return parseInt(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}catch(e){return 0}},convertCurrency:function(t){try{return String(t).replace(/,/g,"")}catch(e){return 0}},getStoreData:function(){var t=this;if(this.account=this.masterData.AccountCode,this.itemCode=this.masterData.ExpenseCode,this.itemName=this.masterData.ExpenseName,this.accountCd=this.masterData.AccountCd,null!=this.masterData.YearData){this.selectedYear=this.masterData.YearData.item.set_year,this.selectedCompanySize=this.masterData.YearData.item.company_size,this.monthlyFee=this.masterData.YearData.item.standard_monthly_fee,this.upperLimit=this.masterData.YearData.item.reduction_upper_limit,this.lowerLimit=this.masterData.YearData.item.reduction_lower_limit,this.costFeeUpperLimit=this.masterData.YearData.item.industry_average,this.allIndustryTreeData.forEach((function(e){2==e.industry_kbn&&t.kbn2Data.push(e)}));var e=this._.find(this.kbn2Data,{industry_nm:this.masterData.YearData.item.industry});this.industryNo=e.industry_no,this.industryName=this.masterData.YearData.item.industry,this.buttonSelect=this.$t("UPDATE")}else this.selectedYear=(new Date).getFullYear(),this.selectedCompanySize=1,this.buttonSelect=this.$t("SAVE")},selectIndustry:function(){this.currentSelectedIndustryItem="",this.$refs["tree-modal1"].show()},getIndustryTreeData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.postAPI(m["a"].MASTERREADDATAMINDUSTRY,{fieldlist:["*"],conditions:[{key:"industry_kbn",value:["01","02"]}]});case 2:e=t.sent,a=e.data,a.success&&(s=a.data,this.allIndustryTreeData=s,r=[],n=this._.sortBy(s,"industry_big_cd"),i=this._.groupBy(n,"industry_big_cd"),Object.keys(i).forEach((function(t){var e=[],a=[];i[t].forEach((function(t){if(1==t.industry_kbn){var s=t.industry_nm;a.push(s)}else{var r={text:t.industry_nm};e.push(r)}}));var s=":"+a[0];if("A"==t){var n={text:t+s,state:{expanded:!0},children:e};r.push(n)}else{var o={text:t+s,state:{expanded:!1},children:e};r.push(o)}})),this.$store.dispatch("updateIndustryTree",r),this.getStoreData());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateIndustryItem:function(t){var e=this;this.allIndustryTreeData.forEach((function(t){2==t.industry_kbn&&e.kbn2Data.push(t)}));var a=this._.find(this.kbn2Data,{industry_nm:t});this.$store.dispatch("updateselectedIndustryItem",{industry_nm:a.industry_nm,industry_no:a.industry_no}),this.currentSelectedIndustryItem=a.industry_nm,this.getIndustryName()},getIndustryName:function(){console.log("DATA",this.selected_industry_item),this.currentSelectedIndustryItem=this.selected_industry_item.industry_nm,this.industryName=this.selected_industry_item.industry_nm,this.industryNo=this.selected_industry_item.industry_no},submit:function(){this.$v.selectedCompanySize.$touch(),this.$v.industryName.$touch(),this.$v.selectedCompanySize.$invalid||this.$v.industryName.$invalid||(null!=this.masterData.YearData?this.updateData():this.createData())},updateData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,t.next=3,b.postAPI(m["a"].MASTERUPDATEMEXPENSEITEMSETY,{data:[{set_year:this.selectedYear,industry_no:this.industryNo,company_size:this.selectedCompanySize,accounts_name_cd:this.accountCd,expense_item_cd:this.itemCode,standard_annual_savings:this.monthlyFee?this.convertCurrency(this.monthlyFee):"",reduction_range_up:this.upperLimit,reduction_range_low:this.lowerLimit,cost_industry_average:this.costFeeUpperLimit?this.convertCurrency(this.costFeeUpperLimit):"",del_flg:!1,update_id:localStorage.getItem("client_account_no")}],conditions:[{key:"expense_item_set_y_no",value:this.masterData.YearData.item.set_y_no}]});case 3:e=t.sent,a=e.data,a.success?(this.isBusy=!1,this.$router.push({name:"expense_item_add_edit"})):this.isBusy=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,t.next=3,b.postAPI(m["a"].MASTERCREATEMEXPENSEITEMSETY,[{set_year:this.selectedYear,industry_no:this.industryNo,company_size:this.selectedCompanySize,accounts_name_cd:this.accountCd,expense_item_cd:this.itemCode,standard_annual_savings:this.monthlyFee,reduction_range_up:this.upperLimit,reduction_range_low:this.lowerLimit,cost_industry_average:this.costFeeUpperLimit,del_flg:!1,update_id:localStorage.getItem("client_account_no"),create_id:localStorage.getItem("client_account_no")}]);case 3:e=t.sent,a=e.data,a.success?(this.isBusy=!1,this.$router.push({name:"expense_item_add_edit"})):this.isBusy=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},y=f,_=(a("704c"),a("2877")),v=Object(_["a"])(y,s,r,!1,null,null,null);e["default"]=v.exports},"454f":function(t,e,a){a("46a7");var s=a("584a").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},"46a7":function(t,e,a){var s=a("63b6");s(s.S+s.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},5080:function(t,e,a){},"704c":function(t,e,a){"use strict";var s=a("8910"),r=a.n(s);r.a},"795f":function(t,e,a){"use strict";var s=a("5080"),r=a.n(s);r.a},"85f2":function(t,e,a){t.exports=a("454f")},8910:function(t,e,a){},"8e6e":function(t,e,a){var s=a("5ca1"),r=a("990b"),n=a("6821"),i=a("11e9"),o=a("f1ae");s(s.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,s=n(t),c=i.f,l=r(s),u={},d=0;while(l.length>d)a=c(s,e=l[d++]),void 0!==a&&o(u,e,a);return u}})},"990b":function(t,e,a){var s=a("9093"),r=a("2621"),n=a("cb7c"),i=a("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=s.f(n(t)),a=r.f;return a?e.concat(a(t)):e}},bca4:function(t,e,a){},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("85f2"),r=a.n(s);function n(t,e,a){return e in t?r()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},d99c:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"min-tree-height",attrs:{id:"subMenuTree"}},[a("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.treeTitle))]),0==t.treeMapedData.length?[a("div",{staticClass:"text-center errorColor"},[t._v(" "+t._s(t.$t("GENRALDATAERRORMESSAGE"))+" ")])]:[a("tree",{attrs:{data:t.treeMapedData,options:t.treeOptions},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.node;return a("span",{staticClass:"tree-text"},[s.hasChildren()?[a("u",[t._v(t._s(s.text))])]:[t.isParentDataSelected?a("b-form-radio",{attrs:{value:s.parent.data.text+s.text,disabled:t.disabled(s.text)},on:{change:function(e){return t.onNodeSelected(s.text,s.parent.data.text)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("u",{staticClass:"tree-text pointer",class:{disabled:t.disabled(s.text),"selected-tree-text":t.selected==s.text}},[t._v(" "+t._s(s.text)+" ")])]):a("b-form-radio",{attrs:{value:s.text,disabled:t.disabled(s.text)},on:{change:function(e){return t.onNodeSelected(s.text)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("u",{staticClass:"tree-text pointer",class:{disabled:t.disabled(s.text),"selected-tree-text":t.selected==s.text}},[t._v(" "+t._s(s.text)+" ")])])]],2)}}])})]],2)},r=[],n=(a("8e6e"),a("ac6a"),a("cadf"),a("456d"),a("bd86")),i=a("2f62");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(a,!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"SubMenuTree",components:{},inheritAttrs:!1,props:{treeOptions:{type:[Object],default:function(){}},disabledItems:{type:[Array],default:function(){return[]}},treeTitle:{type:String,default:function(){return[]}},industry:{type:Boolean,default:!1},reductionProposal:{type:Boolean,default:!1},isParentDataSelected:{type:Boolean,default:!1}},data:function(){return{selected:""}},computed:c({},Object(i["b"])({treeData:"getTree",industryTreeData:"getIndustryTree",getProposalTreeData:"getReductionProposalTree",selected_expense_item:"getSelectedExpenseItem"}),{treeMapedData:function(){return this.industry?this.industryTreeData:this.reductionProposal?this.getProposalTreeData:this.treeData}}),mounted:function(){this.selected=this.selected_expense_item.expense_item_nm},created:function(){},methods:{disabled:function(t){return-1!=this.disabledItems.indexOf(t)},onNodeSelected:function(t,e){this.disabledItems.indexOf(t)&&this.$emit("update-expense-type",t,e)}}},u=l,d=(a("795f"),a("e940"),a("2877")),m=Object(d["a"])(u,s,r,!1,null,"7362740c",null);e["a"]=m.exports},e940:function(t,e,a){"use strict";var s=a("bca4"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-16c36071.a06407d5.js.map