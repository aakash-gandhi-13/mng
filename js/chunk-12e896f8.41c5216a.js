(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12e896f8"],{"1b4a":function(t,e,a){},"454f":function(t,e,a){a("46a7");var n=a("584a").Object;t.exports=function(t,e,a){return n.defineProperty(t,e,a)}},"46a7":function(t,e,a){var n=a("63b6");n(n.S+n.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"61c6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.pageLoading?a("div",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-spinner fa-spin fa-2x"})]):a("b-card",{attrs:{id:"personMgmtCard","no-body":""}},[a("b-tabs",{model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{"title-link-class":t.linkClass(0),title:t.$t("ACCOUNTINFORMATION")},on:{click:t.fetchAccountData}},[a("b-form",[a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("LOGINID")))])],1),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{maxlength:"15"},model:{value:t.managerAccount.loginID,callback:function(e){t.$set(t.managerAccount,"loginID",e)},expression:"managerAccount.loginID"}}),a("show-errors",{attrs:{control:t.$v.managerAccount.loginID,field:t.$t("LOGINID")}})],1)],1),a("br"),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("LOGINPASSWORD2")))])],1),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{id:"input-pwd",disabled:t.person_mode_and_data.isEditmode,type:"password",maxlength:"15"},model:{value:t.managerAccount.password,callback:function(e){t.$set(t.managerAccount,"password",e)},expression:"managerAccount.password"}}),a("show-errors",{attrs:{control:t.$v.managerAccount.password,field:t.$t("LOGINPASSWORD2")}})],1),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-button",{staticClass:"px-4 align-content-center",attrs:{disabled:!t.personData.personID,variant:"primary"},on:{click:t.resetPassword}},[t._v(t._s(t.$t("RESETPASSWORDBUTTON"))+" "),t.resetPasswordLoading?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"3"}}),a("b-col",{attrs:{cols:"12",xl:"3"}}),a("b-col",{staticClass:"mt-2",attrs:{cols:"12",xl:"6"}},[t._v(" "+t._s(t.$t("PASSTEXT"))+" ")])],1),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ACCOUNTPERMISSIONS")))])],1),a("b-col",{attrs:{xl:"auto"}},[a("b-form-checkbox-group",{staticClass:"small-fs",attrs:{id:"checkbox-group-1",options:t.authCategory,size:"md"},model:{value:t.managerAccount.accountAuth,callback:function(e){t.$set(t.managerAccount,"accountAuth",e)},expression:"managerAccount.accountAuth"}}),a("show-errors",{attrs:{control:t.$v.managerAccount.accountAuth,field:t.$t("ACCOUNTPERMISSIONS")}})],1)],1),a("br"),a("b-row",[a("b-col",{attrs:{cols:"12",lg:"3",xl:"3"}},[t.person_mode_and_data.isEditmode?a("b-button",{staticClass:"px-4 align-content-center",attrs:{variant:"primary"},on:{click:t.addUpdateManagerAccount}},[t._v(t._s(t.$t("UPDATE"))+" "),t.accountLoader?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()]):a("b-button",{staticClass:"px-4 align-content-center",attrs:{variant:"primary"},on:{click:t.toNextTab}},[t._v(t._s(t.$t("TOPERSONINCHARGE"))+" "),t.accountLoader?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1),a("br"),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("LOGINTIME")))])]),a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:t.managerAccount.firstLoginDate,callback:function(e){t.$set(t.managerAccount,"firstLoginDate",e)},expression:"managerAccount.firstLoginDate"}})],1),a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("LOGINTIME2")))])]),a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:t.managerAccount.lastLoginDate,callback:function(e){t.$set(t.managerAccount,"lastLoginDate",e)},expression:"managerAccount.lastLoginDate"}})],1)],1)],1)],1),a("b-tab",{attrs:{"title-link-class":t.linkClass(1),title:t.$t("PERSONINCHARGEINFO")},on:{click:t.fetchPersonData}},[a("b-form",[a("br"),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("CONTACTNAME")))])],1),a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-form-input",{staticClass:"form-control",attrs:{maxlength:"50"},model:{value:t.personData.personName,callback:function(e){t.$set(t.personData,"personName",e)},expression:"personData.personName"}}),a("show-errors",{attrs:{control:t.$v.personData.personName,field:t.$t("CONTACTNAME")}})],1),a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"outline-primary"}},[t._v(t._s(t.$t("INPUTEXPENSEITEM.ANYBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("SEX")))])],1),a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("b-form-select",{attrs:{plain:!0,options:t.sexOptions},model:{value:t.personData.personSex,callback:function(e){t.$set(t.personData,"personSex",e)},expression:"personData.personSex"}})],1)],1),a("br"),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("AFFILIATEDCOMPANY")))])],1),a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-form-select",{attrs:{plain:!0,options:t.companyOptions},model:{value:t.personData.personCompany,callback:function(e){t.$set(t.personData,"personCompany",e)},expression:"personData.personCompany"}}),a("show-errors",{attrs:{control:t.$v.personData.personCompany,field:t.$t("AFFILIATEDCOMPANY")}})],1),a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"outline-primary"}},[t._v(t._s(t.$t("INPUTEXPENSEITEM.ANYBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("DEPARTMENT")))])],1),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{maxlength:"40"},model:{value:t.personData.personDepartment,callback:function(e){t.$set(t.personData,"personDepartment",e)},expression:"personData.personDepartment"}})],1),a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"outline-primary"}},[t._v(t._s(t.$t("INPUTEXPENSEITEM.ANYBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("POSITION")))])],1),a("b-col",{attrs:{cols:"12",xl:"auto"}},[a("b-form-select",{attrs:{plain:!0,options:t.positionOptions},model:{value:t.personData.personPosition,callback:function(e){t.$set(t.personData,"personPosition",e)},expression:"personData.personPosition"}})],1)],1),a("br"),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("MAILADDRESS")))])],1),a("b-col",{attrs:{cols:"12",xl:"3"}},[a("b-form-input",{staticClass:"form-control",model:{value:t.personData.personMailAddress,callback:function(e){t.$set(t.personData,"personMailAddress",e)},expression:"personData.personMailAddress"}}),a("show-errors",{attrs:{control:t.$v.personData.personMailAddress,field:t.$t("MAILADDRESS")}})],1)],1),a("br"),a("b-row",{staticClass:"no-gutters d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny",attrs:{variant:"outline-primary"}},[t._v(t._s(t.$t("ANYBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("PERSONINCHARGEICONIMAGE")))])],1),a("b-col",{attrs:{cols:"11",xl:"3"}},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:"xxxxxx.png"},model:{value:t.personData.personInchargeIcon,callback:function(e){t.$set(t.personData,"personInchargeIcon",e)},expression:"personData.personInchargeIcon"}}),a("p",{staticClass:"text-danger"},[t._v(t._s(t.fileErrorMessage))])],1),a("b-col",{attrs:{cols:"12",xl:"4"}},[a("b-button",{staticClass:"file-selection-btn file-btn-margin",attrs:{id:"fileSelect",variant:"primary"}},[a("label",{attrs:{for:"avatar"}},[t._v(t._s(t.$t("IMGSELUP")))])]),a("input",{ref:"fileupload",attrs:{id:"avatar",type:"file",name:"avatar",hidden:""},on:{change:t.onFileChange}})],1)],1),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}}),a("b-col",{attrs:{cols:"11",xl:"3"}},[a("b-link",{staticClass:"card-link float-left link mt-2",attrs:{href:"javascript:;"},on:{click:t.deleteIconFile}},[a("u",[t._v(t._s(t.$t("PERSONINCHARGEICONIMAGEDEL")))])])],1)],1),a("br"),a("b-row",{staticClass:"d-flex align-items-center"},[a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),a("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("PERSONINCHARGEAUTHORITY")))])],1),a("b-col",{attrs:{cols:"12",xl:"2"}},[a("b-form-select",{attrs:{plain:!0,options:t.authorityOptions},model:{value:t.personData.personInchargeAuthority,callback:function(e){t.$set(t.personData,"personInchargeAuthority",e)},expression:"personData.personInchargeAuthority"}}),a("show-errors",{attrs:{control:t.$v.personData.personInchargeAuthority,field:t.$t("PERSONINCHARGEAUTHORITY")}})],1)],1),a("br"),a("b-row",[a("b-col",{attrs:{cols:"12",lg:"3",xl:"3"}},[a("b-button",{staticClass:"px-4 align-content-center",attrs:{variant:"primary"},on:{click:t.personSubmit}},[t._v(t._s(t.buttonSelect)),t.personLoader?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1)],1)],1)],1)],1),a("b-modal",{ref:"client-modal1",attrs:{id:"client-modal1","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"py-0",size:"lg","footer-class":"border-0","header-class":"border-0 bg-white pd-0","button-size":"sm"}},[[a("div",{staticClass:"float-left"},[a("b-button",{staticClass:"back-btn close-btn mt-2",attrs:{variant:"primary"},on:{click:t.goBack}},[t._v(t._s(t.$t("BACK")))])],1),a("br"),a("div",[a("br"),a("br"),a("label",{staticClass:"title-fs font-weight-bold"},[t._v(t._s(t.$t("MailMessage1"))+t._s(t.personData.personMailAddress)+t._s(t.$t("MailMessage2")))])]),a("br"),a("div",{staticClass:"title-fs font-weight-bold txt-align"},[a("label",[t._v(t._s(t.$t("LOGINID"))+" : "+t._s(t.managerAccount.loginID?t.managerAccount.loginID:""))]),a("br"),a("label",[t._v(t._s(t.$t("PERSONINCHARGENAME"))+" : "+t._s(t.personData.personName))])])]],2)],1)},s=[],r=(a("8e6e"),a("cadf"),a("456d"),a("7f7f"),a("28a5"),a("ac6a"),a("96cf"),a("3b8d")),o=a("bd86"),i=a("b5ae"),c=a("c827"),l=a("3f54"),p=a("8992"),u=a("2f62"),d=a("2f4e");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b=l["a"].get("basic"),f={name:"AddEdit",components:{ShowErrors:c["a"]},data:function(){return{isEditMode:!1,tabIndex:0,fileName:"",selectedSex:"",accountLoader:!1,personLoader:!1,pageLoading:!1,fileErrorMessage:"",buttonSelect:this.$t("SAVE"),sexOptions:[{value:"00",text:"指定なし"},{value:"01",text:"男性"},{value:"02",text:"女性"}],selectedCompany:"",companyOptions:[{value:"1",text:"企業１"},{value:"2",text:"企業２"}],selectedPosition:"",positionOptions:[{value:"001",text:"一般"},{value:"002",text:"係長"},{value:"003",text:"課長"},{value:"004",text:"部長"},{value:"005",text:"役員"}],selectedAuthority:"",authorityOptions:[{value:"01",text:"一般"},{value:"02",text:"管理者"}],authCategory:[{value:"1",text:this.$t("WIZOPERATOR")},{value:"2",text:this.$t("SUPPLIERREPRESENTATIVE")},{value:"3",text:this.$t("SYSTEMADMINISTRATOR")}],managerAccount:{aplManagerAccountNo:"",loginID:"",password:"",accountAuth:[],firstLoginDate:"",lastLoginDate:""},personData:{personID:"",aplManagerAccountNo:"",personName:"",personSex:"",personCompany:"",personDepartment:"",personPosition:"",personMailAddress:"",personInchargeIcon:"",personInchargeAuthority:"",fileIconPath:""},files:[],resetPasswordLoading:!1}},validations:{personData:{personName:{required:i["required"]},personCompany:{required:i["required"]},personMailAddress:{required:i["required"],email:i["email"]},personInchargeAuthority:{required:i["required"]}},managerAccount:{loginID:{required:i["required"],characterMinLength:Object(i["minLength"])(8)},password:{required:i["required"],minLength:Object(i["minLength"])(8)},accountAuth:{required:i["required"]}}},computed:g({},Object(u["b"])({person_mode_and_data:"getPersonDataAndMode"})),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.personData.personID=this.person_mode_and_data.person_id,this.isEditMode=this.person_mode_and_data.isEditmode,this.getAffliationCompany(),t.next=5,this.fetchPersonData();case 5:this.fetchAccountData();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getPersonAuth:function(t){var e=this._.filter(this.managerAccount.accountAuth,(function(e){return e==t}));return!!e.length},deleteIconFile:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.fileErrorMessage="",this.files=[],!this.personData.personID){t.next=10;break}return t.next=5,b.postAPI(d["a"].PERSONDELETEUPLOADEDFILE,{person_id:this.personData.personID});case 5:e=t.sent,a=e.data,a.success&&(this.personData.personInchargeIcon="",this.$refs.fileupload.value=null),t.next=12;break;case 10:this.personData.personInchargeIcon="",this.$refs.fileupload.value=null;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetPassword:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.resetPasswordLoading=!0,t.next=3,b.postAPI(d["a"].MFORGOTPASSWORD,{remind_mail:this.personData.personMailAddress});case 3:e=t.sent,a=e.data,this.resetPasswordLoading=!1,a.success&&this.$refs["client-modal1"].show();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goBack:function(){this.$refs["client-modal1"].hide()},toNextTab:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.managerAccount.$touch(),this.$v.managerAccount.$invalid){t.next=7;break}return t.next=4,b.postAPI(d["a"].MASTERREADDATAAPLMANAGERACCOUNT,{fieldlist:["*"],conditions:[{key:"apl_manager_login_id",value:this.managerAccount.loginID}]});case 4:e=t.sent,a=e.data,a.data.length>0?this.$swal({type:"warning",width:425,text:this.$t("LOGINIDALREADYEXISTS")}):this.tabIndex=1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addUpdateManagerAccount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.managerAccount.$touch(),this.$v.managerAccount.$invalid){t.next=11;break}if(this.accountLoader=!0,e={apl_manager_login_id:this.managerAccount.loginID,del_flg:!1,create_id:localStorage.getItem("personID"),update_id:localStorage.getItem("personID"),update_dt:Object(p["i"])(new Date),wiz_auth_flg:this.getPersonAuth("1"),supplier_auth_flg:this.getPersonAuth("2"),system_auth_flg:this.getPersonAuth("3"),apl_manager_account_no:parseInt(this.managerAccount.aplManagerAccountNo)},""==this.managerAccount.aplManagerAccountNo){t.next=11;break}return t.next=7,b.postAPI(d["a"].UPDATEAPLMANAGERACCOUNT,e);case 7:a=t.sent,n=a.data,this.accountLoader=!1,n.success?this.$router.push({name:"personincharge_list"}):n.message&&this.$swal({type:"warning",width:425,text:this.$t("LOGINIDALREADYEXISTS")});case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAffliationCompany:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.postAPI(d["a"].MASTERREADDATAMGENERALPURPOSE,{fieldlist:["code","value_string_small"],conditions:[{key:"key",value:"AFFI"}]});case 2:e=t.sent,a=e.data,a.success&&(n=a.data,s=[],n.forEach((function(t){var e={value:t.code,text:t.value_string_small};s.push(e)})),this.companyOptions=s);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateAuth:function(t){var e=[];return t.wiz_auth_flg&&e.push("1"),t.supplier_auth_flg&&e.push("2"),t.system_auth_flg&&e.push("3"),e},fetchAccountData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.personData.personID){t.next=6;break}return t.next=3,b.postAPI(d["a"].MASTERREADDATAAPLMANAGERACCOUNT,{fieldlist:["*"],conditions:[{key:"apl_manager_account_no",value:this.managerAccount.aplManagerAccountNo}]});case 3:e=t.sent,a=e.data,a.success&&(n=a.data.length,n>0&&(s=a.data[0],this.managerAccount={aplManagerAccountNo:s.apl_manager_account_no?s.apl_manager_account_no:"",loginID:s.apl_manager_login_id?s.apl_manager_login_id:"",password:"********",accountAuth:s?this.updateAuth(s):[],firstLoginDate:s.first_login_dt?s.first_login_dt.slice(0,16):"",lastLoginDate:s.first_login_dt?s.last_login_dt.slice(0,16):""}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),fetchPersonData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.personData.personID){t.next=6;break}return t.next=3,b.postAPI(d["a"].MASTERREADMPERSON,{fieldlist:["*"],conditions:[{key:"person_id",value:this.personData.personID}]});case 3:e=t.sent,a=e.data,a.success?(n=a.data.length,n>0?(s=a.data[0],this.personData={personID:s.person_id?s.person_id:"",aplManagerAccountNo:s.apl_manager_account_no?s.apl_manager_account_no:"",personName:s.person_name?s.person_name:"",personSex:s.person_sex?s.person_sex:"",personCompany:s.person_company?s.person_company:"",personDepartment:s.person_department?s.person_department:"",personPosition:s.person_position?s.person_position:"",personMailAddress:s.person_mail?s.person_mail:"",personInchargeIcon:s.icon_file_name?s.icon_file_name:"",personInchargeAuthority:s.person_auth_kbn?s.person_auth_kbn:"",fileIconPath:s.icon_file_name?s.icon_file_name:""},this.managerAccount.aplManagerAccountNo=s.apl_manager_account_no?s.apl_manager_account_no:"",this.buttonSelect=this.$t("UPDATE")):this.buttonSelect=this.$t("SAVE")):this.buttonSelect=this.$t("SAVE");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onFileChange:function(t){for(var e=0,a=0;a<t.target.files.length;a++){var n=t.target.files[a].name.split(".").pop();if(e+=Math.round(t.target.files[a].size/1024),"jpg"==n||"png"==n||"jpeg"==n||"JPG"==n||"PNG"==n||"JPEG"==n)if(e>1024)this.fileErrorMessage=this.$t("MAXICONSIZE");else{for(var s=0;s<t.target.files.length;s++)this.files.push(t.target.files[s]);this.personData.personInchargeIcon=this.files[0].name,this.personData.fileIconPath=this.files[0].name,this.fileErrorMessage=""}else this.fileErrorMessage=this.$t("UPLOADEXCECUTABLEFILES");e+=Math.round(t.target.files[a].size/1024)}},personSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.personData.$touch(),this.isEditMode){t.next=6;break}if(this.$v.managerAccount.$touch(),!this.$v.managerAccount.$invalid){t.next=6;break}return this.tabIndex=0,t.abrupt("return",!1);case 6:if(this.$v.personData.$invalid){t.next=29;break}return e=new FormData,a=d["a"].PERSONCREATENUPDATEPERSON,this.personLoader=!0,e.append("person_name",this.personData.personName),e.append("person_company",this.personData.personCompany),e.append("person_mail",this.personData.personMailAddress),e.append("person_sex",this.personData.personSex),e.append("person_department",this.personData.personDepartment),e.append("person_position",this.personData.personPosition),e.append("person_auth_kbn",this.personData.personInchargeAuthority),e.append("icon_file_name",this.personData.personInchargeIcon),this.files.length>0&&e.append("attachment",this.files[0]),e.append("create_id",localStorage.getItem("client_account_no")),e.append("update_id",localStorage.getItem("client_account_no")),e.append("update_dt",Object(p["i"])(new Date)),this.isEditMode?(e.append("person_id",this.personData.personID),e.append("apl_manager_account_no",this.personData.aplManagerAccountNo)):(e.append("apl_manager_login_id",this.managerAccount.loginID),e.append("apl_manager_login_pass",this.managerAccount.password),e.append("wiz_auth_flg",this.getPersonAuth("1")),e.append("supplier_auth_flg",this.getPersonAuth("2")),e.append("system_auth_flg",this.getPersonAuth("3")),e.append("del_flg",!1),e.append("create_dt",Object(p["i"])(new Date))),t.next=25,b.postAPI(a,e);case 25:n=t.sent,s=n.data,this.personLoader=!1,s.success?(this.$router.push({name:"personincharge_list"}),this.fileErrorMessage=""):(this.fileErrorMessage="",s.message&&this.$swal({type:"warning",width:425,text:s.message.info}));case 29:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),linkClass:function(t){return this.tabIndex===t?["bg-white","text-black"]:["bg-primary","text-black"]}}},m=f,_=(a("c1d5"),a("e5ba"),a("7ca6"),a("2877")),A=Object(_["a"])(m,n,s,!1,null,"79633edc",null);e["default"]=A.exports},"7ca6":function(t,e,a){"use strict";var n=a("c871"),s=a.n(n);s.a},"85f2":function(t,e,a){t.exports=a("454f")},"8e6e":function(t,e,a){var n=a("5ca1"),s=a("990b"),r=a("6821"),o=a("11e9"),i=a("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,n=r(t),c=o.f,l=s(n),p={},u=0;while(l.length>u)a=c(n,e=l[u++]),void 0!==a&&i(p,e,a);return p}})},"990b":function(t,e,a){var n=a("9093"),s=a("2621"),r=a("cb7c"),o=a("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(r(t)),a=s.f;return a?e.concat(a(t)):e}},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("85f2"),s=a.n(n);function r(t,e,a){return e in t?s()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},c1d5:function(t,e,a){"use strict";var n=a("c459"),s=a.n(n);s.a},c459:function(t,e,a){},c871:function(t,e,a){},e5ba:function(t,e,a){"use strict";var n=a("1b4a"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-12e896f8.41c5216a.js.map