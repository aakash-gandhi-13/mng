(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e295223"],{"29ce":function(e,t,s){"use strict";var n=s("5900"),a=s.n(n);a.a},"3d8a":function(e,t,s){},"3fa8":function(e,t,s){},"454f":function(e,t,s){s("46a7");var n=s("584a").Object;e.exports=function(e,t,s){return n.defineProperty(e,t,s)}},"46a7":function(e,t,s){var n=s("63b6");n(n.S+n.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},"4b79":function(e,t,s){"use strict";var n=s("3d8a"),a=s.n(n);a.a},5900:function(e,t,s){},"74f7":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"border border-dark pl-4 pr-4 ml-5"},[s("b-row",[s("div",{staticClass:"title-fs-2"},[e._v(e._s(e.$t("SUPPLIER")))]),s("br"),s("br")]),s("b-row",[s("b-col",{attrs:{xl:"5"}},[s("b-row",{staticClass:"d-flex align-items-center mb-1"},[s("b-col",{attrs:{xl:"4"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("SUPPLIERNAME")))])]),s("b-col",[s("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:e.supplierInfo.supplierName,callback:function(t){e.$set(e.supplierInfo,"supplierName",t)},expression:"supplierInfo.supplierName"}}),s("show-errors",{attrs:{control:e.$v.supplierInfo.supplierName,field:e.$t("SUPPLIERNAME")}})],1)],1),s("b-row",{staticClass:"d-flex align-items-center mb-1"},[s("b-col",{attrs:{xl:"4"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("REDUCTIONPROPOSALMENUNAME")))])]),s("b-col",[s("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:e.supplierInfo.reductionProposalName,callback:function(t){e.$set(e.supplierInfo,"reductionProposalName",t)},expression:"supplierInfo.reductionProposalName"}}),s("show-errors",{attrs:{control:e.$v.supplierInfo.reductionProposalName,field:e.$t("REDUCTIONPROPOSALMENUNAME")}})],1)],1),s("b-row",{staticClass:"d-flex align-items-center mb-1"},[s("b-col",{attrs:{xl:"4"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("ACCOUNT")))])]),s("b-col",[s("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:e.supplierInfo.accountName,callback:function(t){e.$set(e.supplierInfo,"accountName",t)},expression:"supplierInfo.accountName"}}),s("show-errors",{attrs:{control:e.$v.supplierInfo.accountName,field:e.$t("ACCOUNT")}})],1)],1),s("b-row",{staticClass:"d-flex align-items-center mb-1"},[s("b-col",{attrs:{xl:"4"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("EXPENSEITEM")))])]),s("b-col",[s("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:e.supplierInfo.expenseItemName,callback:function(t){e.$set(e.supplierInfo,"expenseItemName",t)},expression:"supplierInfo.expenseItemName"}}),s("show-errors",{attrs:{control:e.$v.supplierInfo.expenseItemName,field:e.$t("EXPENSEITEM")}})],1)],1),s("br")],1),s("b-col",{attrs:{xl:"5"}},[s("b-button",{staticClass:"align-content-center doubleHeight-btnAny",attrs:{disabled:e.reductionButton,variant:"primary"},on:{click:e.showProposalModal}},[e._v(e._s(e.$t("SELECTREDUCTIONPROPOSALMENUBTN")))])],1)],1),s("br")],1),s("br"),s("div",{staticClass:"border border-dark pl-4 pr-4 ml-5"},[s("b-row",[s("div",{staticClass:"title-fs-2"},[e._v(e._s(e.$t("CONTRACTINFO")))]),s("br"),s("br")]),s("b-row",[s("b-col",{attrs:{xl:"5"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{xl:"4"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("APPLICATIONDATE")))])]),s("b-col",[s("b-input-group",[s("b-form-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.applicationDate,callback:function(t){e.applicationDate=t},expression:"applicationDate"}}),s("b-input-group-append",[s("b-form-datepicker",{attrs:{"button-only":"",right:""},on:{context:e.onContext},model:{value:e.applicationDate,callback:function(t){e.applicationDate=t},expression:"applicationDate"}})],1)],1)],1)],1),s("br"),s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{xl:"4"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("CONTRACTSTARTDATE")))])]),s("b-col",[s("b-input-group",[s("b-form-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.contractstartDate,callback:function(t){e.contractstartDate=t},expression:"contractstartDate"}}),s("b-input-group-append",[s("b-form-datepicker",{attrs:{"button-only":"",right:""},on:{context:e.onContext},model:{value:e.contractstartDate,callback:function(t){e.contractstartDate=t},expression:"contractstartDate"}})],1)],1)],1)],1)],1),s("b-col",{attrs:{xl:"7"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{xl:"3"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("CONTRACTSTATUSSELECT")))])]),s("b-col",[s("b-form-select",{staticClass:"customselect",attrs:{plain:!0,options:e.situationOptions,"value-field":"item","text-field":"name"},model:{value:e.selectedStaus,callback:function(t){e.selectedStaus=t},expression:"selectedStaus"}})],1),s("b-col",[s("b-button",{attrs:{variant:"primary"}},[e._v(e._s(e.$t("CONTRACTSTATUSEDIT")))])],1)],1),s("br"),s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{xl:"3"}},[s("label",{staticClass:"highLightHeaderLabel"},[e._v(e._s(e.$t("CONTRACTOR")))])]),s("b-col",[s("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:e.contractPersonIncharge,callback:function(t){e.contractPersonIncharge=t},expression:"contractPersonIncharge"}})],1),s("b-col",[s("b-button",{attrs:{variant:"primary"},on:{click:e.showPersonSelect}},[e._v(e._s(e.$t("SELECTCONTACT")))])],1)],1)],1)],1),s("br")],1),s("br"),s("b-button",{staticClass:"px-4 align-content-center ml-5",attrs:{disabled:e.reductionButton,variant:"primary"},on:{click:e.registerData}},[e._v(e._s(e.$t("CONTRACTINFORMATIONREGISTRATION"))),e.isBusy?s("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()]),s("br"),s("br"),s("br"),s("b-modal",{ref:"person-modal",attrs:{id:"person-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"py-0 ",size:"md","footer-class":"border-0","header-class":"border-0 bg-white pd-0","button-size":"sm","hide-header-close":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var n=t.cancel;return[s("div",{staticClass:"title-fs font-weight-bold mt-2 text-dark ml-3"},[e._v(" "+e._s(e.$t("SELECTCONTACT"))+" ")]),s("b-button",{staticClass:"back-btn close-btn mr-3 mt-2",attrs:{variant:"primary"},on:{click:n}},[e._v(e._s(e.$t("CLOSE")))])]}}])},[s("b-card",{staticClass:"pop-up-box"},[s("b-row",[s("b-col",[s("b-form-group",[s("b-form-radio-group",{staticClass:"radioControl mb-3 pt-2",attrs:{id:"radio-group-1",options:e.personOptions,size:"md",stacked:""},model:{value:e.personSelect,callback:function(t){e.personSelect=t},expression:"personSelect"}})],1)],1)],1)],1),s("b-row",[s("b-col",{staticClass:"text-center mb-2",attrs:{cols:"12"}},[s("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:e.getPerson}},[e._v(e._s(e.$t("ADD"))+" ")])],1)],1)],1),s("div",[s("b-modal",{ref:"proposal-modal",attrs:{id:"proposal-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"py-0 mb-3 modal-bodyAlign",size:"lg","footer-class":"border-0","header-class":"border-0 bg-white","button-size":"sm"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var n=t.cancel;return[s("h5",{staticClass:"title-fs font-weight-bold mt-2 text-dark ml-3"},[e._v(" "+e._s(e.$t("COSTPROPOSALSELECTION"))+" ")]),s("b-button",{staticClass:"back-btn close-btn mt-2",attrs:{variant:"primary"},on:{click:n}},[e._v(e._s(e.$t("CLOSE")))])]}}])},[s("hr",{staticClass:"mt-0 mb-2"}),s("div",{staticClass:"margin-b-1 mt-1 attachment-card"},[s("div",[s("b-form",{attrs:{inline:""}},[s("b-row",[s("b-col",{attrs:{cols:"12",xl:"12"}},[s("span",{staticClass:"inlineLabel"},[e._v(" "+e._s(e.$t("REGISTRATIONFEE")))])])],1),s("b-row",[s("b-col",[s("b-form-select",{staticClass:"w-29",attrs:{options:e.expenseItemOptions,plain:!0,size:"sm"},on:{change:function(t){return e.onExpenseChange(t)}},model:{value:e.expense_code,callback:function(t){e.expense_code=t},expression:"expense_code"}})],1)],1)],1)],1),s("b-row",{staticClass:"mt-2 mb-2"},[s("b-col",{attrs:{xl:"12"}},[s("l-table",{attrs:{hasPagination:!1,showPerPage:!1,isBusy:e.isBusy,"table-data":e.tableData,fields:e.fields,outlined:!0,"per-page":e.limit,small:"small","pagination-align":"center",fixed:"","sticky-header":""},on:{onChecked:e.selectItem}})],1)],1)],1),s("hr",{staticClass:"mt-0 mb-0"}),s("div",{staticClass:"btn-style1"},[s("b-button",{staticClass:"float-right send-btn mt-2 m-bodyAlign",attrs:{disabled:""==e.checkedItems,type:"submit",variant:"primary"},on:{click:e.submitChoice}},[e._v(e._s(e.$t("SELECTEXPENSEITEMS"))+" "),e.isBusy?s("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()])],1)])],1)],1)},a=[],i=(s("8e6e"),s("cadf"),s("456d"),s("6b54"),s("a481"),s("75fc")),r=(s("ac6a"),s("7514"),s("96cf"),s("3b8d")),o=s("bd86"),c=s("b5ae"),l=s("1315"),u=s("2f62"),d=s("3f54"),p=s("8992"),m=s("8785"),h=s("2f4e"),f=s("c827");function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(s,!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}l["Settings"].defaultLocale="ja";var g=d["a"].get("basic"),v={components:{LTable:m["a"],ShowErrors:f["a"]},data:function(){return{supplierInfo:{supplierName:"",reductionProposalName:"",accountName:"",expenseItemName:""},applicationDate:"",contractstartDate:"",formatted:"",selected:"",contactStatus:"",contractPersonIncharge:"",personSelect:"",personOptions:[],tableData:[],checkedItems:"",isBusy:!1,expense_code:{expense_item_cd:"",accounts_name_cd:""},expenseItemOptions:[],selectedItem:"",supplierReductionProposalInfoListObject:[],personId:"",selectedPerson:{},situationOptions:[],selectedStaus:"",aggrementData:{},personData:[],limit:0,reductionButton:!1,personIncharge:""}},validations:{supplierInfo:{supplierName:{required:c["required"]},reductionProposalName:{required:c["required"]},accountName:{required:c["required"]},expenseItemName:{required:c["required"]}}},computed:b({},Object(u["b"])({client_details:"getClientData",PayLoad:"getAggrementNo"}),{fields:function(){return[{key:"checked",label:"",class:"text-center normal-width"},{key:"expense_item_name",label:this.$t("EXPENSEITEM"),class:"text-center normal-width"},{key:"reduction_proposal_name",label:this.$t("REDUCTIONPROPOSALMENUNAME"),class:"text-center normal-width"},{key:"created_date",label:this.$t("EXPIRATIONDATESTART"),class:"text-center normal-width"},{key:"updated_date",label:this.$t("EXPIRATIONDATEEND"),class:"text-center  normal-width"},{key:"reduction_proposal_cost",label:this.$t("PROPOSEDAMOUNT"),class:"text-center normal-width"}]}}),mounted:function(){this.getSupllierData(),this.checkDate(),this.getSupplierInfoData(),console.log("p_id",this.aggrementData.agreement_person_id)},methods:{getSupplierInfoData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].MASTERREADDATAMSUPPLIERPERSONINFO,{fieldlist:["*"],conditions:[{key:"person_id",value:localStorage.getItem("personID")}]});case 2:t=e.sent,s=t.data,s.success&&(n=s.data,n.length<1&&(this.reductionButton=!0));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkDate:function(){this.contractstartDate>this.applicationDate?this.contractstartDate=this.contractstartDate:this.contractstartDate=""},showPersonSelect:function(){this.personSelect=this.personId,this.$refs["person-modal"].show()},getPerson:function(){this.selectedPerson=this._.find(this.personOptions,{value:this.personSelect}),this.contractPersonIncharge=this.selectedPerson.text,this.personId=this.selectedPerson.value,this.getStatusOnChange(),this.$refs["person-modal"].hide()},getPersonList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].MASTERREADMPERSON,{fieldlist:["person_id","person_name"]});case 2:t=e.sent,s=t.data,s.success?(n=s.data,this.personData=n,a=[],n.length?(n.forEach((function(e){var t={text:e.person_name?e.person_name:"",value:e.person_id?e.person_id:""};a.push(t)})),this.personOptions=a):this.personOptions=[],0!=this.PayLoad.flagcheck&&(this.situationOptions=[],this.getStatus())):this.personOptions=[];case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSupllierData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.getPersonList(),0!=this.PayLoad.flagcheck){e.next=7;break}return e.next=4,g.postAPI(h["a"].CLIENTREADAGREEMENTDETAIL,{client_no:this.client_details.client_no,agreement_no:this.PayLoad.aggrementno});case 4:t=e.sent,s=t.data,s.success&&(n=s.data.agreementObject,this.aggrementData=n,this.getStatusData(),this.supplierInfo.supplierName=n.supplier_name,this.supplierInfo.reductionProposalName=n.reduction_proposal_name,this.supplierInfo.accountName=n.accounts_name_nm,this.supplierInfo.expenseItemName=n.expense_item_nm,this.personId=n.agreement_person_id,this.selectedStaus=n.agreement_status_no,null==n.person_name?this.selected="":this.contractPersonIncharge=n.person_name,this.applicationDate=n.agreement_request_date,this.contractstartDate=n.agreement_start_date,this.situationOptions=[]);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getStatusOnChange:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.situationOptions=[],e.next=3,g.postAPI(h["a"].MASTERREADMAGREEMENTSTATUS,{fieldlist:["*"],conditions:[{key:"use_flg",value:!0},{key:"person_id",value:this.selectedPerson.value}]});case 3:for(t=e.sent,s=t.data,n=s.data,a=0;a<n.length;a++)this.situationOptions.push({item:n[a].agreement_status_no,name:n[a].agreement_status_name});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getStatusData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].MASTERREADMAGREEMENTSTATUS,{fieldlist:["*"],conditions:[{key:"use_flg",value:!0},{key:"person_id",value:this.aggrementData.agreement_person_id}]});case 2:for(t=e.sent,s=t.data,n=s.data,a=0;a<n.length;a++)this.situationOptions.push({item:n[a].agreement_status_no,name:n[a].agreement_status_name});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getStatus:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].MASTERREADMAGREEMENTSTATUS,{fieldlist:["*"],conditions:[{key:"use_flg",value:!0},{key:"person_id",value:localStorage.getItem("personID")}]});case 2:for(t=e.sent,s=t.data,n=s.data,a=n.length,i=0;i<a;i++)this.situationOptions.push({item:n[i].agreement_status_no,name:n[i].agreement_status_name});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onContext:function(e){this.contractstartDate>this.applicationDate?(this.formatted=e.selectedFormatted,this.selected=e.selectedYMD):this.contractstartDate=""},showProposalModal:function(){this.checkedItems="",this.expense_code={expense_item_cd:"",accounts_name_cd:""},this.getExpenseData(),this.getExpenseItemList(),this.$refs["proposal-modal"].show()},hideMessageModal:function(){this.$refs["proposal-modal"].hide()},selectItem:function(e){this.checkedItems=e},onExpenseChange:function(){this.getExpenseData()},getExpenseData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isBusy=!0,t=(this.expense_code.expense_item_cd,{expense_item_cd:this.expense_code.expense_item_cd,accounts_name_cd:this.expense_code.accounts_name_cd,person_id:localStorage.getItem("personID")}),e.next=4,g.postAPI(h["a"].CLIENTREADSUPPLIERREDUCTIONPROPOSAL,t);case 4:s=e.sent,n=s.data,this.isBusy=!1,n.success&&(a=n.data.supplierReductionProposalInfoListObject,this.supplierReductionProposalInfoListObject=Object(i["a"])(n.data.supplierReductionProposalInfoListObject),r=[],this.limit=a.length,a.forEach((function(e,t){var s={id:t,supplier_expense_item_info_no:e.supplier_expense_item_info_no,expense_item_name:e.expense_item_nm,reduction_proposal_name:e.reduction_proposal_name,reduction_proposal_cost:o.filterByCurrency(e.reduction_proposal_cost),created_date:Object(p["g"])(new Date(e.effective_date_st)),updated_date:Object(p["g"])(new Date(e.effective_date_ed))};r.push(s)})),this.tableData=r,this.checkedItems="");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterByCurrency:function(e){try{return parseInt(e).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}catch(t){return 0}},getExpenseItemList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].SUPPLIERREADSUPPLIEREXPENSEITEMLIST,{person_id:localStorage.getItem("personID")});case 2:t=e.sent,s=t.data,s.success?(n=s.data.expenseItemObjectList,a=[],n.length?(n.forEach((function(e){var t={text:e.expense_item_nm?e.expense_item_nm:"",value:{expense_item_cd:e.expense_item_cd?e.expense_item_cd:"",accounts_name_cd:e.accounts_name_cd?e.accounts_name_cd:""}};e.expense_item_nm&&a.push(t)})),this.expenseItemOptions=a):this.expenseItemOptions=[]):this.expenseItemOptions=[];case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitChoice:function(){this.$refs["proposal-modal"].hide();var e=this.checkedItems.index;this.selectedItem=b({},this.supplierReductionProposalInfoListObject[e]),this.supplierInfo.supplierName=this.selectedItem.supplier_name,this.supplierInfo.reductionProposalName=this.selectedItem.reduction_proposal_name,this.supplierInfo.accountName=this.selectedItem.accounts_name_nm,this.supplierInfo.expenseItemName=this.selectedItem.expense_item_nm},registerData:function(){this.$v.supplierInfo.$touch(),this.$v.supplierInfo.$invalid||(0==this.PayLoad.flagcheck?(this.isBusy=!0,this.updateData()):(this.isBusy=!0,this.createData()))},updateData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectedPerson.value?this.personIncharge=this.selectedPerson.value:this.personIncharge=this.personId,e.next=3,g.postAPI(h["a"].MASTERUPDATETAGREEMENT,{data:[{supplier_no:this.selectedItem.supplier_no,accounts_name_cd:this.selectedItem.accounts_name_cd,expense_item_cd:this.selectedItem.expense_item_cd,agreement_request_date:this.applicationDate,agreement_start_date:this.contractstartDate,agreement_status_no:this.selectedStaus,agreement_person_id:this.personIncharge,create_id:this.client_details.client_no,update_id:this.client_details.client_no,supplier_reduction_proposal_info_no:this.selectedItem.supplier_reduction_proposal_info_no}],conditions:[{key:"agreement_no",value:this.PayLoad.aggrementno}]});case 3:t=e.sent,s=t.data,this.isBusy=!1,s.success&&this.updateTaskData();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateTaskData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].MASTERUPDATETTASK,{data:[{task_person_id:this.personIncharge,task_dt:Object(p["i"])(new Date),del_flg:!1,create_id:this.personIncharge,update_id:this.personIncharge}],conditions:[{key:"task_body_no",value:this.PayLoad.aggrementno},{key:"task_type",value:"002"}]});case 2:t=e.sent,s=t.data,s.success&&(this.PayLoad.page?this.$router.push({name:"client_mgmt_request_app_detail"}):this.$router.push({name:"client_process"}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.PayLoad.reduction_proposal_no,this.personIncharge,this.selectedPerson.value?this.personIncharge=this.selectedPerson.value:this.personIncharge=localStorage.getItem("personID"),e.next=5,g.postAPI(h["a"].MASTERCREATETAGREEMENT,[{client_no:this.client_details.client_no,supplier_no:this.selectedItem.supplier_no,accounts_name_cd:this.selectedItem.accounts_name_cd,expense_item_cd:this.selectedItem.expense_item_cd,agreement_request_date:this.applicationDate,agreement_start_date:this.contractstartDate,agreement_person_id:this.personIncharge,agreement_status_no:this.selectedStaus,create_id:this.client_details.client_no,update_id:this.client_details.client_no,supplier_reduction_proposal_info_no:this.selectedItem.supplier_reduction_proposal_info_no,reduction_proposal_no:t}]);case 5:s=e.sent,n=s.data,this.isBusy=!1,n.success&&(a=n.data,this.registerTaskData(a));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),registerTaskData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.postAPI(h["a"].MASTERCREATETTASK,[{task_type:"002",task_body_no:parseInt(t),task_kbn:"01",task_person_id:this.personIncharge,task_dt:Object(p["i"])(new Date),del_flg:!1,create_id:this.personIncharge,update_id:this.personIncharge}]);case 2:s=e.sent,n=s.data,this.isBusy=!1,n.success&&(this.PayLoad.page?this.$router.push({name:"client_mgmt_request_app_detail"}):this.$router.push({name:"client_process"}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},y=v,I=(s("785d"),s("29ce"),s("2877")),k=Object(I["a"])(y,n,a,!1,null,"74a99cb8",null);t["default"]=k.exports},"785d":function(e,t,s){"use strict";var n=s("3fa8"),a=s.n(n);a.a},"85f2":function(e,t,s){e.exports=s("454f")},8785:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showPerPage?n("b-row",[n("b-col",{staticClass:"mb-3",attrs:{sm:"11"}}),n("b-col",{staticClass:"mb-2",attrs:{sm:"1"}},[n("b-form-select",{attrs:{id:"perPageSelect",options:e.pageOptions,size:"sm"},model:{value:e.perPageObjects,callback:function(t){e.perPageObjects=t},expression:"perPageObjects"}})],1)],1):e._e(),n("b-table",{ref:"selectableTable",staticClass:"text-left",attrs:{id:"ltable",busy:e.isBusy,"head-variant":e.headVariant,hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fields:e.fields,fixed:e.fixed,items:e.items,"current-page":e.serverSideProcess?0:e.currentPage,"per-page":e.perPage,outlined:e.outlined,borderless:e.borderless,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"tbody-tr-class":e.trClass,filter:e.filter,"select-mode":"single","sticky-header":"",responsive:"sm","show-empty":""},on:{"row-dblclicked":e.dbClick,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(checked)",fn:function(t){return[n("b-form-radio",{attrs:{id:"radio-"+t.item.id,name:"table-radio"},on:{change:function(s){return e.getSelectedItem(t)}},model:{value:t.item.checked,callback:function(s){e.$set(t.item,"checked",s)},expression:"item.item.checked"}})]}},{key:"cell(checked2)",fn:function(t){return[n("b-form-radio",{attrs:{id:"radio-"+t.item.id,name:"table-radio2"},on:{change:function(s){return e.getSelectedItem2(t)}},model:{value:t.item.checked,callback:function(s){e.$set(t.item,"checked",s)},expression:"item.item.checked"}})]}},{key:"cell(selected)",fn:function(t){return[n("b-form-checkbox",{attrs:{id:"checkbox-"+t.item.id,name:"checkbox-"+t.index},on:{change:function(s){return e.toggleSelectAll(t)}},model:{value:t.item.selected,callback:function(s){e.$set(t.item,"selected",s)},expression:"item.item.selected"}})]}},{key:"cell(selected2)",fn:function(t){return[n("b-form-checkbox",{attrs:{id:"checkbox-"+t.item.id,name:"checkbox-"+t.index},on:{change:function(s){return e.toggleSelectAll2(t)}},model:{value:t.item.selected,callback:function(s){e.$set(t.item,"selected",s)},expression:"item.item.selected"}})]}},{key:"cell(test)",fn:function(t){return[n("a",{attrs:{href:"javascript:void(0)"}},[n("span",{staticClass:"pointer",on:{click:function(s){return e.test(t)}}},[e._v(e._s(e.$t("TEST")))])])]}},{key:"cell(access)",fn:function(t){return[n("span",{staticClass:"pointer",on:{click:function(s){return e.roleAccess(t)}}},[n("i",{staticClass:"fa fa-key",attrs:{"aria-hidden":"true"}})])]}},{key:"cell(delete)",fn:function(t){return[n("i",{staticClass:"fa fa-trash cursor-pointer",attrs:{title:e.$t("DELETE"),"aria-hidden":"true"},on:{click:function(s){return e.remove(t)}}})]}},{key:"cell(edit)",fn:function(t){return[n("b-button",{staticClass:"btn-width",attrs:{variant:"primary"},on:{click:function(s){return e.edit(t)}}},[e._v(e._s(e.$t("EDIT")))])]}},{key:"cell(same_scale_evaluation_sales)",fn:function(t){return["-"!=t.value?n("span",[n("img",{staticClass:"text-muted",attrs:{src:e.getImage(t),"aria-hidden":"true",width:"60%",alt:"icon"}})]):n("span",[e._v("-")])]}},{key:"head(same_scale_evaluation_sales)",fn:function(t){return[n("span",[e._v(e._s(t.field.label))]),n("div",[e._v(e._s(t.field.sublabel))])]}},{key:"head(same_scale_evaluation_employee)",fn:function(t){return[n("span",[e._v(e._s(t.field.label))]),n("div",[e._v(e._s(t.field.sublabel))])]}},{key:"head(same_scale_evaluation_tsubo)",fn:function(t){return[n("span",[e._v(e._s(t.field.label))]),n("div",[e._v(e._s(t.field.sublabel))])]}},{key:"head(overall_evaluation_year)",fn:function(t){return[n("span",[e._v(e._s(t.field.label))]),n("div",[e._v(e._s(t.field.sublabel))])]}},{key:"head(amount_reduction_year)",fn:function(t){return[n("span",[e._v(e._s(t.field.label))]),n("div",{staticClass:"text-center"},[e._v(e._s(t.field.sublabel))])]}},{key:"cell(amount_reduction_year)",fn:function(t){return[n("span",{staticClass:"amountDisplay"},[e._v(e._s(t.value))])]}},{key:"cell(same_scale_evaluation_employee)",fn:function(t){return["-"!=t.value?n("span",[n("img",{staticClass:"text-muted",attrs:{src:e.getImage(t),"aria-hidden":"true",width:"60%",alt:"icon"}})]):n("span",[e._v("-")])]}},{key:"cell(same_scale_evaluation_tsubo)",fn:function(t){return["-"!=t.value?n("span",[n("img",{staticClass:"text-muted",attrs:{src:e.getImage(t),"aria-hidden":"true",width:"60%",alt:"icon"}})]):n("span",[e._v("-")])]}},{key:"cell(expense_item)",fn:function(t){return[n("b-link",{on:{click:function(s){return e.seeExpenseDetails(t)}}},[n("u",[e._v(e._s(t.value))])])]}},{key:"cell(reduction_plan)",fn:function(t){return[t.value?n("b-link",{on:{click:function(s){return e.seeMore(t)}}},[n("img",{staticClass:"text-muted icon-background",attrs:{src:s("9d1e"),"aria-hidden":"true",width:"60%",alt:"icon"}})]):e._e()]}},{key:"cell(color)",fn:function(e){return[n("span",{staticClass:"dot",style:{background:e.item.color}})]}},{key:"cell(client_name)",fn:function(t){return[n("b-link",{on:{click:function(s){return e.clientClick(t)}}},[n("u",[e._v(e._s(t.value))])])]}},{key:"cell(standard_monthly_fee)",fn:function(t){return[n("div",[e._v(e._s(t.value)+e._s(t.value?e.$t("YEN"):""))])]}},{key:"cell(reduction_upper_limit)",fn:function(t){return[n("div",[e._v(e._s(t.value)+e._s(t.value?"%":""))])]}},{key:"cell(reduction_lower_limit)",fn:function(t){return[n("div",[e._v(e._s(t.value)+e._s(t.value?"%":""))])]}},{key:"cell(sense_of_cost_up)",fn:function(t){return[n("div",[e._v(e._s(t.value)+e._s(t.value?e.$t("YEN"):""))])]}},{key:"cell(sense_of_cost_low)",fn:function(t){return[n("div",[e._v(e._s(t.value)+e._s(t.value?e.$t("YEN"):""))])]}},{key:"cell(industry_average)",fn:function(t){return[n("div",[e._v(e._s(t.value)+e._s(t.value?e.$t("YEN"):""))])]}},{key:"empty",fn:function(){return[n("div",{staticClass:"text-center errorColor"},[e._v(" "+e._s(e.$t("GENRALDATAERRORMESSAGE"))+" ")])]},proxy:!0},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0}])}),e.hasPagination?n("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:e.paginationAlign,size:"md"},scopedSlots:e._u([{key:"prev-text",fn:function(){return[e._v(e._s(e.$t("PREVIOUS")))]},proxy:!0},{key:"next-text",fn:function(){return[e._v(e._s(e.$t("NEXT")))]},proxy:!0},{key:"page",fn:function(t){var s=t.page,a=t.active;return[n(a?"strong":"i",[e._v(e._s(s))])]}}],null,!1,2376471213),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)},a=[],i=(s("8e6e"),s("ac6a"),s("cadf"),s("456d"),s("bd86")),r=(s("c5f6"),s("2ef0")),o=s.n(r),c=s("2f62"),l=s("8992");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(s,!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={name:"LTable",components:{},inheritAttrs:!1,props:{caption:{type:String,default:"Table"},hover:{type:Boolean,default:!1},headVariant:{type:String,default:"light"},trClass:{type:String,default:""},outlined:{type:Boolean,default:!0},striped:{type:Boolean,default:!1},showPerPage:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},borderless:{type:Boolean,default:!0},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!0},isBusy:{type:Boolean,default:!1},hasPagination:{type:Boolean,default:!1},tableData:{type:[Array,Function],default:function(){return[]}},fields:{type:[Array,Object],default:function(){return[]}},perPage:{type:Number,default:0},filter:{type:String,default:""},dark:{type:Boolean,default:!0},dbClick:{type:Function,default:function(){return[]}},selectItemsToDelete:{type:Function,default:function(){return[]}},total:{type:Number,default:0},startPage:{type:Number,default:0},serverSideProcess:{type:Boolean,default:!1},modalShowState:{type:Boolean,default:!1},showSettings:{type:Boolean,default:!1},showEdit:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!1},showActivate:{type:Boolean,default:!1},sortField:{type:String,default:""},sortByDesc:{type:Boolean,default:!1},childAllSelected:{type:Boolean,default:!1},paginationAlign:{type:String,default:"right"},name:{type:String,default:""}},data:function(){return{currentPage:1,allSelected:!1,allSelected2:!1,checkedItems:[],checkedItems2:[],selectedRow:!1,pageOptions:[10,25,50,100],perPageObjects:10,sortBy:"",sortDesc:!1}},validations:{},computed:d({},Object(c["b"])({getModalShow:"getModalShow"}),{items:function(){return this.tableData},totalRows:function(){return this.total?this.total:this.getRowCount()}}),watch:{perPageObjects:function(){this.$emit("change-per-page",this.perPageObjects)},sortBy:function(){this.$emit("sort",this.sortBy,this.sortDesc)},sortDesc:function(){this.$emit("sort",this.sortBy,this.sortDesc)},checkedItems:function(){},currentPage:function(){this.allSelected=!1,this.checkedItems=[],this.$emit("change-page",this.currentPage)},startPage:function(){this.currentPage=this.startPage+1},items:function(){0!=Object.keys(this.items).length&&this.items.map((function(e){e.selected=!1}))}},created:function(){this.sortBy=this.sortField,this.sortDesc=this.sortByDesc},methods:{getImage:function(e){return Object(l["f"])(e.value)},getSelectedItem:function(e){this.$emit("onChecked",e)},getSelectedItem2:function(e){this.$emit("onChecked2",e)},getRowCount:function(){return this.items.length},selectAll:function(){var e=0;this.allSelected?(this.items.map((function(t){e++,t.selected=!1})),this.selectItemsToDelete([]),this.checkedItems=[]):(this.items.map((function(t){e++,1==t.role_id?t.selected=!1:t.selected=!0})),this.selectItemsToDelete(this.items),this.checkedItems=this.items.filter((function(e){if(1==e.selected)return e}))),e===this.items.length&&this.$emit("onSelect",o.a.map(this.checkedItems,"id"))},selectAll2:function(){var e=0;this.allSelected2?(this.items.map((function(t){e++,t.selected=!1})),this.selectItemsToDelete([]),this.checkedItems=[]):(this.items.map((function(t){e++,1==t.role_id?t.selected=!1:t.selected=!0})),this.selectItemsToDelete(this.items),this.checkedItems2=this.items.filter((function(e){if(1==e.selected)return e}))),e===this.items.length&&this.$emit("onSelect2",o.a.map(this.checkedItems2,"id"))},onFiltered:function(e){this.$emit("filtered",e)},test:function(e){this.$emit("onTest",e)},roleAccess:function(e){this.$emit("onAccess",e)},activate:function(e){this.$emit("onActivate",e)},edit:function(e){this.$emit("onEdit",e)},remove:function(e){this.$emit("onDelete",e)},seeExpenseDetails:function(e){this.$emit("onExpenseDetails",e)},seeMore:function(e){this.$emit("onSeeMore",e)},settings:function(e){this.$emit("onSettings",e)},clientClick:function(e){this.$emit("onClientClick",e)},toggleSelectAll:function(e){var t=this;e.item.selected=!e.item.selected,1==e.item.role_id&&(e.item.selected=!1),this.checkedItems=this.items.filter((function(e){if(1==e.selected)return e})),this.checkedItems.length===this.items.length?this.allSelected=!0:this.allSelected=!1,this.$emit("onSelect",o.a.map(this.checkedItems,"id")),setTimeout((function(){t.selectItemsToDelete(t.items.filter((function(e){return 1==e.selected})))}),0)},toggleSelectAll2:function(e){var t=this;e.item.selected=!e.item.selected,1==e.item.role_id&&(e.item.selected=!1),this.checkedItems2=this.items.filter((function(e){if(1==e.selected)return e})),this.checkedItems2.length===this.items.length?this.allSelected=!0:this.allSelected=!1,this.$emit("onSelect2",o.a.map(this.checkedItems2,"id")),setTimeout((function(){t.selectItemsToDelete(t.items.filter((function(e){return 1==e.selected})))}),0)}}},m=p,h=(s("4b79"),s("2877")),f=Object(h["a"])(m,n,a,!1,null,null,null);t["a"]=f.exports},"8e6e":function(e,t,s){var n=s("5ca1"),a=s("990b"),i=s("6821"),r=s("11e9"),o=s("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){var t,s,n=i(e),c=r.f,l=a(n),u={},d=0;while(l.length>d)s=c(n,t=l[d++]),void 0!==s&&o(u,t,s);return u}})},"990b":function(e,t,s){var n=s("9093"),a=s("2621"),i=s("cb7c"),r=s("7726").Reflect;e.exports=r&&r.ownKeys||function(e){var t=n.f(i(e)),s=a.f;return s?t.concat(s(e)):t}},"9d1e":function(e,t,s){e.exports=s.p+"img/plan-icon.91948237.png"},bd86:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("85f2"),a=s.n(n);function i(e,t,s){return t in e?a()(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}}}]);
//# sourceMappingURL=chunk-1e295223.452613fb.js.map