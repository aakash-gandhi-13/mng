(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b0df9a8"],{"2e3a":function(t,e,s){},"3f39":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.pageloading?s("div",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin fa-2x"})]):s("b-card",[s("b-row",[s("b-col",[s("label",{staticClass:"label"},[t._v(" "+t._s(t.$t("TASKINFORMATION"))+" ")])])],1),s("b-form",[s("div",{staticStyle:{overflow:"auto"}},[s("b-row",{staticClass:"ml-2 d-flex align-items-center justify-content-between"},[s("b-col",{staticClass:"pl-0 pr-0 mb-1"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.TASKNAME")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form11",disabled:""},model:{value:t.taskDetailsInfo.taskName,callback:function(e){t.$set(t.taskDetailsInfo,"taskName",e)},expression:"taskDetailsInfo.taskName"}})],1)],1),s("b-col",{staticClass:"pl-0 pr-0 mb-1",attrs:{cols:"12",sm:"6",lg:"3"}},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0 tableManner",attrs:{prepend:t.$t("TASK.PROCESSINGDATETIME")}},[s("b-input",{staticClass:"backgroundDisable pr-0 pl-1",attrs:{id:"inline-form12",disabled:""},model:{value:t.taskDetailsInfo.processingDateTime,callback:function(e){t.$set(t.taskDetailsInfo,"processingDateTime",e)},expression:"taskDetailsInfo.processingDateTime"}})],1)],1),s("b-col",{staticClass:"pl-0 pr-0 mb-1"},[s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("span",{staticClass:"p-2 w-70 input-group-text modalSelection"},[t._v(t._s(t.$t("TASK.PERSONINCHARGE"))+" ")]),s("span",{staticClass:"w-30 mr-1"},[s("b-input-group",{staticClass:"d-flex justify-content-between w-220"},[s("b-input",{staticClass:"backgroundDisable pr-0 pl-2 modalWork",attrs:{disabled:""},model:{value:t.taskDetailsInfo.personInCharge,callback:function(e){t.$set(t.taskDetailsInfo,"personInCharge",e)},expression:"taskDetailsInfo.personInCharge"}}),s("b-button",{staticClass:"btn-primary d-inline-block modalButton",attrs:{disabled:!t.getContentAccess(),size:"sm",variant:"primary"},on:{click:t.showPersonModal}},[t._v(t._s(t.$t("TASK.PERSONINCHARGESELECT")))])],1)],1)])]),s("b-col",{staticClass:"pl-0 pr-0 mb-1"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.TASKSTATUS")}},[s("b-form-select",{attrs:{disabled:!t.getContentAccess(),options:t.options},model:{value:t.taskDetailsInfo.taskStatus,callback:function(e){t.$set(t.taskDetailsInfo,"taskStatus",e)},expression:"taskDetailsInfo.taskStatus"}})],1)],1)],1)],1)]),s("br"),s("b-button",{attrs:{disabled:!t.getContentAccess(),variant:"primary"},on:{click:t.updateTaskData}},[t._v(t._s(t.$t("UPDATE"))),t.loading?s("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()]),s("hr",{staticClass:"hrBarType"}),s("b-row",[s("b-col",[s("label",{staticClass:"label"},[t._v(" "+t._s(t.$t("DETAILSINFORMATION"))+" ")])])],1),s("b-form",[s("b-row",[s("b-col",{attrs:{cols:"12",xl:"6"}},[s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.REQUESTDATETIME")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form1",disabled:""},model:{value:t.expenseDetailsInfo.requestDateTime,callback:function(e){t.$set(t.expenseDetailsInfo,"requestDateTime",e)},expression:"expenseDetailsInfo.requestDateTime"}})],1)],1),s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.SUBSIDYTYPE")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form2",disabled:""},model:{value:t.expenseDetailsInfo.subsidyType,callback:function(e){t.$set(t.expenseDetailsInfo,"subsidyType",e)},expression:"expenseDetailsInfo.subsidyType"}})],1)],1),s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.COMPANYNAME")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form3",disabled:""},model:{value:t.expenseDetailsInfo.companyName,callback:function(e){t.$set(t.expenseDetailsInfo,"companyName",e)},expression:"expenseDetailsInfo.companyName"}})],1)],1),s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.INDUSTRY")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form4",disabled:""},model:{value:t.expenseDetailsInfo.industry,callback:function(e){t.$set(t.expenseDetailsInfo,"industry",e)},expression:"expenseDetailsInfo.industry"}})],1)],1),s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.PREFECTURES")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form5",disabled:""},model:{value:t.expenseDetailsInfo.prefectures,callback:function(e){t.$set(t.expenseDetailsInfo,"prefectures",e)},expression:"expenseDetailsInfo.prefectures"}})],1)],1)]),s("b-col",{attrs:{cols:"12",xl:"6"}},[s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.APPLICATIONDATE")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form6",disabled:""},model:{value:t.expenseDetailsInfo.assessmentDate,callback:function(e){t.$set(t.expenseDetailsInfo,"assessmentDate",e)},expression:"expenseDetailsInfo.assessmentDate"}})],1)],1),s("div",{staticClass:"bindInputGroup"},[s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:t.$t("TASK.REMARKS")}},[s("b-input",{staticClass:"backgroundDisable",attrs:{id:"inline-form7",disabled:""},model:{value:t.expenseDetailsInfo.remarks,callback:function(e){t.$set(t.expenseDetailsInfo,"remarks",e)},expression:"expenseDetailsInfo.remarks"}})],1)],1),s("div",{staticClass:"bindInputGroup"},[s("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"md"},on:{click:t.goToSubsidyAssessment}},[t._v(t._s(t.$t("TASK.SUBSIDYASSESSMENTBUTTON")))])],1)])],1)],1)],1),s("b-modal",{ref:"person-modal",attrs:{id:"person-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"py-0",size:"md","footer-class":"border-0","header-class":"border-0 bg-white pd-0","button-size":"sm","hide-header-close":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var a=e.cancel;return[s("div",{staticClass:"title-fw title-fs text-dark ml-2 mt-2"},[t._v(" "+t._s(t.$t("SELECTCONTACT"))+" ")]),s("div",{staticClass:"w-70 d-flex justify-content-end"},[s("b-button",{staticClass:"back-btn close-btn mt-2",attrs:{variant:"primary"},on:{click:a}},[t._v(t._s(t.$t("CLOSE")))])],1)]}}])},[s("b-card",{staticClass:"pop-up-box"},[s("b-row",[s("b-col",[s("b-form-group",[s("b-form-radio-group",{staticClass:"radioControl mb-3 pt-2",attrs:{id:"radio-group-1",options:t.searchSelect,size:"md",stacked:""},model:{value:t.selectedPersonID,callback:function(e){t.selectedPersonID=e},expression:"selectedPersonID"}})],1)],1)],1)],1),s("b-row",[s("b-col",{staticClass:"text-center mb-2",attrs:{cols:"12"}},[s("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:t.getSelectedPerson}},[t._v(t._s(t.$t("SELECT"))+" ")])],1)],1)],1)],1)},n=[],i=(s("8e6e"),s("ac6a"),s("cadf"),s("456d"),s("7514"),s("96cf"),s("3b8d")),r=s("bd86"),o=s("3f54"),c=s("8992"),l=s("2f62"),u=s("1315"),p=s("2f4e");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(s,!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var b=o["a"].get("basic");u["Settings"].defaultLocale="ja";var m={name:"TaskDetailsSubsidy",components:{},data:function(){return{searchSelect:[],pageloading:!1,getAccessControl:!0,loading:!1,selectedPerson:{},selectedPersonID:"",taskDetailsInfo:{},expenseDetailsInfo:{},defaultDataItem:{item:"",value:""},options:[{value:"01",text:this.$t("UNPROCESSED")},{value:"02",text:this.$t("PROCESSING")},{value:"03",text:this.$t("PROCESSED")}],subsidyType:{"001":this.$t("SUBSIDYTYPE.LABOURRELATED"),"002":this.$t("SUBSIDYTYPE.TRAININGRELATED"),"003":this.$t("SUBSIDYTYPE.CAPITALRELATED"),"004":this.$t("SUBSIDYTYPE.OTHER")},statusKbn:{"01":this.$t("SUBSIDY.ASSESSMENTREQUEST"),"02":this.$t("SUBSIDY.UNDERASSESSMENT"),"03":this.$t("SUBSIDY.APPLYING"),"04":this.$t("SUBSIDY.APPLIED")}}},computed:f({},Object(l["b"])({task_data:"getTaskDetails"})),validations:{},mounted:function(){},created:function(){this.getPersonIncharge(),this.getTaskDetails()},methods:{getPersonIncharge:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=localStorage.getItem("personCompanyID"),t.next=3,b.postAPI(p["a"].MASTERREADMPERSON,{fieldlist:["person_id","person_name"],conditions:[{key:"person_company",value:e}]});case 3:for(s=t.sent,a=s.data,n=a.data,this.searchSelect=[],i=0;i<n.length;i++)this.searchSelect.push({value:n[i].person_id,text:n[i].person_name});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showPersonModal:function(){this.selectedPersonID="",this.$refs["person-modal"].show()},getSelectedPerson:function(){this.$refs["person-modal"].hide();var t=this._.find(this.searchSelect,{value:this.selectedPersonID});t&&(this.selectedPerson={personID:t.value?t.value:"",personName:t.text?t.text:""},this.taskDetailsInfo.personInCharge=this.selectedPerson.personName)},bindTaskPersonData:function(){var t=this.taskDetailsInfo.taskPersonId,e=this._.find(this.searchSelect,{value:t});if(e)this.defaultDataItem=e;else{var s={text:this.taskDetailsInfo.personInCharge?this.taskDetailsInfo.personInCharge:"",value:this.taskDetailsInfo.taskPersonId?this.taskDetailsInfo.taskPersonId:""};this.searchSelect.push(s),this.defaultDataItem=s}},getContentAccess:function(){var t=localStorage.getItem("person_auth"),e=this.taskDetailsInfo.taskPersonId,s=localStorage.getItem("personID");return"02"==t||null!=e&&e==s},getDateFormat:function(t){return t?t.slice(0,4)+"/"+t.slice(5,7)+"/"+t.slice(8,10)+" "+t.slice(11,16):""},getDate:function(t){return t?t.slice(0,4)+"/"+t.slice(5,7)+"/"+t.slice(8,10):""},getTaskName:function(t){return"003"==t?this.$t("SUBSIDYTASK"):""},updateTaskData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,e={conditions:{task_no:this.taskDetailsInfo.taskNo,task_type:this.taskDetailsInfo.taskType},data:{task_kbn:this.taskDetailsInfo.taskStatus,task_person_id:this.selectedPerson.personID?this.selectedPerson.personID:this.taskDetailsInfo.taskPersonId,task_body_no:this.taskDetailsInfo.taskBodyNo,task_dt:Object(c["i"])(new Date),update_id:localStorage.getItem("personID"),update_dt:Object(c["i"])(new Date)}},t.next=4,b.postAPI(p["a"].TASKUPDATETASKANDTYPETABLE,e);case 4:s=t.sent,a=s.data,this.loading=!1,a.success&&this.$router.push({name:"admin_dasboard"});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToSubsidyAssessment:function(){this.$store.dispatch("setClientData",{client_name:this.expenseDetailsInfo.companyName,client_no:this.expenseDetailsInfo.client_no,client_icon_path:null}),this.$store.dispatch("setAssesmentNo",{assesmentno:this.taskDetailsInfo.taskBodyNo,routeFlag:!0}),this.$router.push({name:"task_subsidy_assessment_detail"})},getTaskDetails:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.pageloading=!0,t.next=3,b.postAPI(p["a"].TASKTASKDETAILCOSTREDUCTION,{task_no:this.task_data.task_no,task_type:this.task_data.task_type});case 3:e=t.sent,s=e.data,this.pageloading=!1,a=s.data[0],this.taskDetailsInfo={taskNo:a.task_no,taskType:a.task_type,taskBodyNo:a.task_body_no,taskName:this.getTaskName(a.task_type),taskPersonId:a.task_person_id?a.task_person_id:"",processingDateTime:a.task_dt?this.getDateFormat(a.task_dt):"",personInCharge:a.person_name?a.person_name:"",taskStatus:a.task_kbn},this.expenseDetailsInfo={client_no:a.client_no,subsidyType:a.subsidy_type?this.subsidyType[a.subsidy_type]:"",companyName:a.client_name?a.client_name:"",industry:a.industry_nm?a.industry_nm:"",prefectures:a.prefectures?a.prefectures:"",requestDateTime:a.request_dt?this.getDateFormat(a.request_dt):"",assessmentDate:this.getDate(a.assessment_dt),remarks:a.remarks};case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},I=m,D=(s("ff47"),s("2877")),h=Object(D["a"])(I,a,n,!1,null,"52f73b53",null);e["default"]=h.exports},"3f54":function(t,e,s){"use strict";s.d(e,"a",(function(){return b}));s("7f7f");var a=s("3fba"),n=s("2f4e"),i=s("edfa"),r=s("8992"),o=s("41cb"),c=s("d3a4"),l=s("2b0e"),u=function(t){return console.log("error",t),t.response?401===t.request.status&&l["default"].swal.fire({type:"error",text:c["a"].t("UNAUTHORISED"),icon:"error",confirmButtonText:c["a"].t("LOGIN")}).then((function(t){t&&(r["d"].clear(),o["a"].push("/login"))})):l["default"].swal({type:"warning",text:c["a"].t("NETWORKERROR")}),t},p=function(t){var e=n["a"].MLOGIN,s=n["a"].LOGIN,a=n["a"].EVALUATIONUSERMANAGEMENT,o=n["a"].FORGOTPASSWORD,l=n["a"].MFORGOTPASSWORD,u=n["a"].EVALUATIONCLIENTCOSTEXPANSIONITEMLIST,p=n["a"].CLIENTREADCLIENTPOINTINFO,d=n["a"].DASHBOARD,f=n["a"].INTEGRATIONCLIENTDETAILS,b=n["a"].INTEGRATIONREADJOURNALSTATUS,m=n["a"].EVALUATIONEXPENSEITEMCOMPAISON,I=n["a"].INTEGRATIONREFRESHTOKEN,D=n["a"].EVALUATIONCOSTINFOTREELIST,h=n["a"].EVALUATIONCOMPANYJUDGEMENTCOMPARISON,g=n["a"].EVALUATIONEXPENSEITEMCOMPAISON,S=n["a"].EVALUATIONREADEXPENSISYEAR,T=n["a"].EVALUATIONREADYEARLYCOSTINFO;return 200==t.request.status&&t.data.success||t.config.url=="".concat(i["a"].apiUrl).concat(e)||t.config.url=="".concat(i["a"].apiUrl).concat(s)||t.config.url=="".concat(i["a"].apiUrl).concat(o)||t.config.url=="".concat(i["a"].apiUrl).concat(l)||t.config.url=="".concat(i["a"].apiUrl).concat(a)||t.config.url=="".concat(i["a"].apiUrl).concat(u)||t.config.url=="".concat(i["a"].apiUrl).concat(p)||t.config.url=="".concat(i["a"].apiUrl).concat(d)||t.config.url=="".concat(i["a"].apiUrl).concat(f)||t.config.url=="".concat(i["a"].apiUrl).concat(b)||t.config.url=="".concat(i["a"].apiUrl).concat(m)||t.config.url=="".concat(i["a"].apiUrl).concat(I)||t.config.url=="".concat(i["a"].apiUrl).concat(h)||t.config.url=="".concat(i["a"].apiUrl).concat(g)||t.config.url=="".concat(i["a"].apiUrl).concat(S)||t.config.url=="".concat(i["a"].apiUrl).concat(T)||t.config.url=="".concat(i["a"].apiUrl).concat(D)||Object(r["l"])(c["a"].t("ERRORMESSAGE")),t};a["a"].interceptors.response.use((function(t){return p(t)}),(function(t){return u(t)}));var d={getGroupTypes:function(t){return a["a"].post("".concat(n["a"].GROUPTYPESLIST),t)},postAPI:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(r["a"])()),a["a"].post("".concat(i["a"].apiUrl).concat(t),e,{headers:n})},getAPI:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(r["a"])()),a["a"].get("".concat(i["a"].apiUrl).concat(t),{params:e,headers:n})},getCourses:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={};return e&&(s=Object(r["a"])()),a["a"].get("".concat(n["a"].COURSE),{params:t,headers:s})},putAPI:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(r["a"])()),a["a"].put("".concat(i["a"].apiUrl).concat(t),e,{headers:n})},deleteAPI:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(r["a"])()),a["a"].delete("".concat(i["a"].apiUrl).concat(t),{params:e,headers:n})}},f={basic:d},b={get:function(t){return f[t]}}},"454f":function(t,e,s){s("46a7");var a=s("584a").Object;t.exports=function(t,e,s){return a.defineProperty(t,e,s)}},"46a7":function(t,e,s){var a=s("63b6");a(a.S+a.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},"7f7f":function(t,e,s){var a=s("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,r="name";r in n||s("9e1e")&&a(n,r,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"85f2":function(t,e,s){t.exports=s("454f")},"8e6e":function(t,e,s){var a=s("5ca1"),n=s("990b"),i=s("6821"),r=s("11e9"),o=s("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,s,a=i(t),c=r.f,l=n(a),u={},p=0;while(l.length>p)s=c(a,e=l[p++]),void 0!==s&&o(u,e,s);return u}})},"990b":function(t,e,s){var a=s("9093"),n=s("2621"),i=s("cb7c"),r=s("7726").Reflect;t.exports=r&&r.ownKeys||function(t){var e=a.f(i(t)),s=n.f;return s?e.concat(s(t)):e}},bd86:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("85f2"),n=s.n(a);function i(t,e,s){return e in t?n()(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},ff47:function(t,e,s){"use strict";var a=s("2e3a"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-2b0df9a8.d34e9664.js.map