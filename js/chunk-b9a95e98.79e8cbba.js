(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9a95e98"],{"0edb":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"content"},[s("b-row",{staticClass:"mt-2 d-none d-md-none d-lg-flex mb-3"},[s("b-col",{staticClass:"titleClass font-weight-bold mb-3",attrs:{cols:"12",xl:"6",lg:"6",sm:"12"}},[e._v(e._s(e.expenseItemName))]),s("b-col",{attrs:{cols:"12",xl:"12",lg:"12",sm:"12"}},[s("span",{staticClass:"d-flex flex-wrap expense-btn"},[s("b-form-radio-group",{staticClass:"smallFontClass",attrs:{id:"proposal-group-expense",options:e.expenseOptions,name:"proposal-group-expense",size:"sm"},on:{change:e.updateProposalList},model:{value:e.selected_expense,callback:function(t){e.selected_expense=t},expression:"selected_expense"}})],1)])],1),s("b-row",{staticClass:"for-mobile mb-3"},[s("b-col",{staticClass:"titleClass font-weight-bold mb-3 text-center",attrs:{cols:"12",xl:"6",lg:"6"}},[e._v(e._s(e.expenseItemName))]),s("b-col",{staticClass:"margin-bottom-1",attrs:{cols:"12",xl:"3",lg:"3",sm:"12"}},[s("button",{staticClass:"w-100 px-3 py-2 dropdownToggle border-0 d-flex justify-content-between align-items-center",on:{click:function(t){t.preventDefault(),e.toggleSubtree=!e.toggleSubtree}}},[s("span",{staticClass:"menuHeader"},[e._v(e._s(e.$t("SELECTEXPENSE")))]),s("span",[s("i",{class:(e.toggleSubtree,"fa fa-caret-down")})])]),e.toggleSubtree?s("b-row",{staticClass:"dropdownToggleBody no-gutters"},[s("b-col",{staticClass:"checkboxExpenseItems scrollable-element",attrs:{id:"expenseAccountDropdown",cols:"12"}},[s("div",{staticClass:"submenuScroll dropdown-menu"},[s("SubMenuTreeCheckbox",{staticClass:"mt-1",attrs:{"tree-options":e.treeOptions,treeTitle:"",disabledItems:e.disabledExpenseItems},on:{"update-expense-type":e.getExpItmCodeArray}})],1)])],1):e._e()],1)],1),e.pageloading?s("div",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin fa-2x"})]):s("b-row",[s("b-col",{attrs:{cols:"12",xl:"12",lg:"12",sm:"12"}},[0==e.messages.type_proposal.data.length?[s("b-row",[s("b-col",[e._v(e._s(e.$t("NOPROPOSALEXISTS")))])],1)]:e._e(),e._l(e.messages.type_proposal.data,(function(t){return[s("div",{key:t.id,staticClass:"card-margin mb-3"},[t.notifications&&0!=t.notifications.length?s("b-row",{staticClass:"smallFontClass font-weight-bold mt-4 mb-2"},[s("b-col",[e._v(e._s(t.subtitle))])],1):e._e(),e._l(t.notifications,(function(t){return s("div",{key:t.id},[s("b-row",{staticClass:"padding-level-2 center-items no-gutters bar-padding",class:{"background-toggle":t.id%2!=0}},[s("b-col",{staticClass:"mobile-text textHeader padding-level-1",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[e._v(e._s(t.label))]),s("b-col",{staticClass:"mobile-text textHeader",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[e._v(e._s(t.sublabel))]),s("b-col",{staticClass:"mobile-text",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[s("b-button",{staticClass:"file-selection-btn float-right",attrs:{variant:"primary"},on:{click:function(s){return e.individualExpenseConfirmation(t)}}},[e._v(e._s(e.$t("QUOTEREQUEST")))])],1)],1)],1)}))],2)]})),-1!=e.userManagement?[s("b-row",[s("b-col",{staticClass:"titleClass font-weight-bold"},[e._v(e._s(e.userManagement.title))])],1),s("b-row",{staticClass:"padding-level-1 no-gutters"},[s("b-col",[s("div",{domProps:{innerHTML:e._s(e.userManagement.notice)}})])],1)]:e._e()],2)],1),s("b-row",[s("b-col",{staticClass:"text-center"},[s("b-button",{staticClass:"file-selection-btn mt-3 mobile-width",attrs:{disabled:e.messages.type_proposal.data.length<=0,variant:"primary"},on:{click:e.expenseConfirmation}},[e._v(e._s(e.$t("BULKQUOTEREQUEST")))])],1)],1),s("b-row",{staticClass:"mt-5 text-center"},[s("b-col",{staticClass:"d-flex align-items-center btn-end mblreturnBtn",attrs:{cols:"12"}},[s("b-button",{staticClass:"d-flex date-fs align-items-center justify-content-center returnBtn",attrs:{variant:"dark"},on:{click:e.returnToExpenseEvaluationList}},[s("i",{staticClass:"fa fa-caret-left fa-2x mr-2",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("RETURNTOLISTOFEXPENSEEVALUATION")))])],1)],1),s("b-modal",{ref:"proposal-complete-modal",attrs:{id:"proposal-complete-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":" proposal-body",size:"lg","footer-class":"border-0","header-class":"border-0 proposal-header","button-size":"sm"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.cancel;return[s("b-row",{staticClass:"w-100 d-flex align-items-center h-100 no-gutters"},[s("b-col",{staticClass:"text-center mobile-margin-bottom",attrs:{cols:"12",xl:"8",lg:"8",sm:"12"}},[s("div",{staticClass:"title-fw float-left justify-content-initial"},[e._v(" "+e._s(e.$t("QUOTATIONSENDTO"))+" ")])]),s("b-col",{staticClass:"text-center",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[s("b-button",{staticClass:"send-btn float-right justify-content-end",attrs:{disabled:e.loading,variant:"primary"},on:{click:e.createQuotationRequest}},[e._v(e._s(e.$t("SEND"))),e.loading?s("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()])],1)],1),s("div",{staticClass:"w0"},[s("button",{staticClass:"close close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:a}},[e._v(" × ")])])]}}])},[s("b-row",[s("b-col",[s("div",{staticClass:"modal-fs mb-2 font-weight-bold"},[e._v(" "+e._s(e.messages.type_proposal.title)+" ")]),s("div",{staticClass:"mb-2"},[s("b-row",{staticClass:"padding-level-2 background-toggle no-gutters center-items bar-padding"},[[s("b-col",{key:e.selectedNotification[0].id,staticClass:"mobile-text textHeader padding-level-1",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[e._v(e._s(e.selectedNotification[0].label))]),s("b-col",{key:"A"+e.selectedNotification[0].id,staticClass:"mobile-text textHeader",attrs:{cols:"12",xl:"8",lg:"8",sm:"12"}},[e._v(e._s(e.selectedNotification[0].sublabel))])]],2)],1)])],1),s("b-row",[s("b-col",{attrs:{cols:"12",xl:"3",lg:"3",sm:"12"}}),s("b-col",{staticClass:"smallFontClass mb-2 errorMessage"},[s("span",[e._v(e._s(e.sendMailError))])])],1)],1),s("b-modal",{ref:"bulk-quotation-modal",attrs:{id:"bulk-quotation-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"proposal-body",size:"lg","footer-class":"border-0","header-class":"border-0 proposal-header","button-size":"sm"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.cancel;return[s("b-row",{staticClass:"h-100"},[s("b-col",{staticClass:"text-center",attrs:{cols:"12",xl:"8",lg:"8",sm:"12"}},[s("div",{staticClass:"title-fw float-left justify-content-initial"},[e._v(" "+e._s(e.$t("BULKPROPOSAL"))+" ")]),s("div",{staticClass:"float-left mobile-margin-bottom f-class"},[e._v(" "+e._s(e.$t("BULKQUOTATIONFORALLCHECKED"))+" ")])]),s("b-col",{staticClass:"text-center",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[s("b-button",{staticClass:"file-selection-btn float-right",attrs:{disabled:!e.isAnySelected,variant:"primary"},on:{click:e.bulkExpenseConfirmation}},[e._v(e._s(e.$t("BATCHTRANSMISSION")))])],1)],1),s("div",{staticClass:"w0"},[s("button",{staticClass:"close close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:a}},[e._v(" × ")])])]}}])},[s("b-row",[s("b-col",[s("div",{staticClass:"modal-fs font-weight-bold d-flex justify-content-intial mobileTitleClass"},[e._v(" "+e._s(e.messages.type_proposal.title)+" ")]),s("div",{staticClass:"mb-2"},[s("b-row",{staticClass:"no-gutters"},[e._l(e.messages.type_proposal.data,(function(t,a){return[s("b-col",{key:t.id,attrs:{cols:"12"}},[t.notifications&&0!=t.notifications.length?s("div",[s("b-row",{staticClass:"font-weight-bold mt-4 mb-2"},[s("b-col",[e._v(e._s(t.subtitle))])],1),e._l(t.notifications,(function(t,n){return s("div",{key:t.id},[s("b-row",{staticClass:"padding-level-2 center-items no-gutters bar-padding",class:{"background-toggle":t.id%2!=0}},[s("b-col",{staticClass:"mobile-text padding-level-1",attrs:{cols:"12",xl:"1",lg:"1",sm:"12"}},[s("b-form-checkbox",{attrs:{id:"checkbox-1"+a+n,size:"sm"},on:{change:e.updateCheckAll},model:{value:t.checked,callback:function(s){e.$set(t,"checked",s)},expression:"notification.checked"}})],1),s("b-col",{staticClass:"mobile-text textHeader",attrs:{cols:"12",xl:"5",lg:"5",sm:"12"}},[e._v(" "+e._s(t.label)+" ")]),s("b-col",{staticClass:"mobile-text textHeader",attrs:{cols:"12",xl:"6",lg:"6",sm:"12"}},[e._v(e._s(t.sublabel))])],1)],1)}))],2):e._e()])]}))],2)],1)])],1),s("b-row",[s("b-col",{attrs:{cols:"12",xl:"3",lg:"3",sm:"12"}}),s("b-col",{staticClass:"smallFontClass mb-2 errorMessage"},[s("span",[e._v(e._s(e.sendMailError))])])],1)],1),s("b-modal",{ref:"bulk-proposal-complete-modal",attrs:{id:"bulk-proposal-complete-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":" proposal-body",size:"lg","footer-class":"border-0","header-class":"border-0 proposal-header","button-size":"sm"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.cancel;return[s("b-row",{staticClass:"w-100 d-flex align-items-center h-100 no-gutters"},[s("b-col",{staticClass:"text-center mobile-margin-bottom",attrs:{cols:"12",xl:"8",lg:"8",sm:"12"}},[s("div",{staticClass:"title-fw float-left justify-content-initial"},[e._v(" "+e._s(e.$t("QUOTATIONSENDTO"))+" ")])]),s("b-col",{staticClass:"text-center",attrs:{cols:"12",xl:"4",lg:"4",sm:"12"}},[s("b-button",{staticClass:"send-btn float-right justify-content-end",attrs:{disabled:e.loading,variant:"primary"},on:{click:e.createBulkQuotationRequest}},[e._v(e._s(e.$t("SEND"))),e.loading?s("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()])],1)],1),s("div",{staticClass:"w0"},[s("button",{staticClass:"close close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:a}},[e._v(" × ")])])]}}])},[s("b-row",[s("b-col",[s("div",{staticClass:"modal-fs mb-3 font-weight-bold"},[e._v(" "+e._s(e.messages.type_proposal.title)+" ")]),s("div",{staticClass:"mb-2"},e._l(e.messages.type_proposal.data,(function(t){return s("b-row",{key:t.id},e._l(t.notifications,(function(t){return s("b-col",{key:t.id,attrs:{cols:"12"}},[t.checked?s("b-row",{staticClass:"padding-level-2 center-items no-gutters bar-padding",class:{"background-toggle":t.id%2!=0}},[t.checked?s("b-col",{staticClass:"mobile-text padding-level-1",attrs:{cols:"12",xl:"3",lg:"3"}},[e._v(e._s(t.label))]):e._e(),t.checked?s("b-col",{staticClass:"mobile-text padding-level-1",attrs:{cols:"12",xl:"9",lg:"9"}},[e._v(e._s(t.sublabel))]):e._e()],1):e._e()],1)})),1)})),1)])],1),s("b-row",[s("b-col",{attrs:{cols:"12",xl:"3",lg:"3",sm:"12"}}),s("b-col",{staticClass:"smallFontClass mb-2 errorMessage"},[s("span",[e._v(e._s(e.sendMailError))])])],1)],1),s("b-modal",{ref:"proposal-complete-confirmed-modal",attrs:{id:"proposal-complete-confirmed-modal","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"proposal-body py-0",size:"lg","footer-class":"border-0","header-class":"border-0 pd-0","button-size":"sm"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.cancel;return[s("b-row"),s("div",{staticClass:"w0"},[s("button",{staticClass:"close close-btn confirmation-close",attrs:{type:"button","aria-label":"Close"},on:{click:a}},[e._v(" × ")])])]}}])},[s("b-card",{staticClass:"pop-up-box"},[s("b-row",[s("b-col",[s("div",{staticClass:"title-fw"},[e._v(e._s(e.$t("QSENTTOSUPPLIER")))]),s("div",{staticClass:"title-fw mb-4"},[e._v(e._s(e.$t("WAITFORANSWER")))]),s("div",{staticClass:"title-fw mb-4"},e._l(e.quotationNotification,(function(t){return s("b-row",{key:t.id},[[s("b-col",{attrs:{cols:"12"}},[e._v(e._s(t.label)+" : "+e._s(e.$t("QREQUESTNO"))+" ["+e._s(t.qNo)+"]")])]],2)})),1),s("div",{staticClass:"title-fw"},[e._v(e._s(e.$t("MENTIONQREQUESTNO")))])])],1)],1)],1)],1)},n=[],o=(s("8e6e"),s("cadf"),s("456d"),s("96cf"),s("3b8d")),i=(s("ac6a"),s("7514"),s("bd86")),r=s("c7fd"),c=s("3f54"),l=s("2f62"),d=s("1315"),u=s("2f4e"),p=s("d3a4");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(s,!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f=c["a"].get("basic");d["Settings"].defaultLocale="ja";var b={name:"ReductionProposalPreview",components:{SubMenuTreeCheckbox:r["a"]},data:function(){return{selectExpenseItem:this.$t("EXPENSEITEMSELECTION"),messages:{type_proposal:{title:"",data:[]}},treeData:[],userManagement:{},expenseItemName:"",sendMailError:"",allTreeData:[],hostTreeData:[],loading:!1,pageloading:!1,quotationNotification:[{id:1,label:"",qNo:""}],selectedNotification:[{id:1,label:"",sublabel:""}],treeOptions:{checkbox:!1},selected_expense:{},expenseOptions:[],isAnySelected:!0,toggleSubtree:!1,disabledExpenseItems:[]}},computed:_({},Object(l["b"])({selected_expense_item:"getSelectedExpenseItem",userDetails:"getUserDetails"})),mounted:function(){this.getReductionProposalMessagesList()},created:function(){this.getTreeData()},methods:{getExpItmCodeArray:function(e){this.toggleSubtree=!1,console.log(this.allTreeData,"allTreeData");var t=this._.find(this.allTreeData,{expense_item_nm:e});this.selected_expense=t,console.log(t),this.updateProposalList()},updateCheckAll:function(){var e=this;setTimeout((function(){e.isAnySelected=!1,e.messages.type_proposal.data.forEach((function(t){t.notifications.forEach((function(t){(t.checked||e.isAnySelected)&&(e.isAnySelected=!0)}))}))}),0)},returnToExpenseEvaluationList:function(){this.$router.push({name:"expense_evaluation"})},displayButtons:function(){var e=this;this.allTreeData.forEach((function(t){var s={text:t.expense_item_nm?t.expense_item_nm:"",value:{expense_item_cd:t.expense_item_cd?t.expense_item_cd:"",accounts_name_cd:t.accounts_name_cd?t.accounts_name_cd:""}};t.expense_item_nm&&e.expenseOptions.push(s)})),this.selected_expense_item.expense_item_nm&&(this.selected_expense={accounts_name_cd:this.selected_expense_item.accounts_name_cd,expense_item_cd:this.selected_expense_item.expense_item_cd})},showExpenseConfirmationModal:function(){this.$refs["proposal-complete-modal"].show()},showBulkQuotationConfirmationModal:function(){this.$refs["bulk-proposal-complete-modal"].show()},showBulkQuotationModal:function(){this.$refs["bulk-quotation-modal"].show()},hideBulkQuotationModal:function(){this.$refs["bulk-quotation-modal"].hide()},hideExpenseConfirmationModal:function(){this.$refs["proposal-complete-modal"].hide()},hideBulkQuotationConfirmationModal:function(){this.$refs["bulk-proposal-complete-modal"].hide()},showExpenseCompletedConfirmationModal:function(){this.$refs["proposal-complete-confirmed-modal"].show()},hideExpenseCompletedConfirmationModal:function(){this.$refs["proposal-complete-confirmed-modal"].hide()},sendProposalMailData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.postAPI(u["a"].MESSAGEREPLY,t);case 2:s=e.sent,a=s.data,this.loading=!1,this.sendMailError="",a.success&&(this.hideExpenseConfirmationModal(),this.hideBulkQuotationConfirmationModal(),this.showExpenseCompletedConfirmationModal(),this.selectedNotification=[{id:1,label:"",sublabel:""}]);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateProposalList:function(){var e=this;setTimeout((function(){var t=e._.find(e.allTreeData,{expense_item_cd:e.selected_expense.expense_item_cd});e.$store.dispatch("updateSelectedExpenseItem",{accounts_name_cd:t.accounts_name_cd,expense_item_cd:t.expense_item_cd,expense_item_nm:t.expense_item_nm}),e.getReductionProposalMessagesList()}),0)},sendProposalMessage:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,o,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.selectedNotification,s=[],t.forEach((function(e){s.push(e.reduction_proposal_no)})),a=[],e.next=6,f.postAPI(u["a"].MESSAGEREADINITIALPROPOSAL,{reduction_proposal_no:s});case 6:n=e.sent,o=n.data,o.success?(i=o.data,i.forEach((function(e){var t={message_destination_account_type:e.message_sender_account_type,message_destination_account_no:e.message_sender_account_no,message_destination_person_name:e.message_sender_person_name,message_sender_belongs:r.userDetails.clientCompanyName,message_sender_account_type:e.message_destination_account_type,message_sender_account_no:e.message_destination_account_no,message_sender_person_name:e.message_destination_person_name,message_title:r.$t("MESSAGEREPLYSUBJECT")+e.reduction_proposal_name,message_text:r.userDetails.clientPersonName+r.$t("MESSAGEREPLYCLIENTCONTEXT")+e.reduction_proposal_name+r.$t("MESSAGEREPLYCLIENTCONTEXTFOLLOW"),reduction_proposal_no:e.reduction_proposal_no,reduction_proposal_url:e.reduction_proposal_url,message_sender_icon_path:r.userDetails.icon_path?r.userDetails.icon_path:"",attached_file_flg:!1,del_flg:!1,create_id:localStorage.getItem("client_account_no"),update_id:localStorage.getItem("client_account_no"),message_source:"request_quotation"};a.push(t)})),this.sendProposalMailData(a)):(this.loading=!1,this.sendMailError=this.$t("SENDMAILERROR"));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),expenseConfirmation:function(){this.sendMailError="",this.showBulkQuotationModal()},createBulkQuotationRequest:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,o,i,r,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.sendMailError="",t=[],this.messages.type_proposal.data.forEach((function(e){for(var s=0;s<e.notifications.length;s++)if(e.notifications[s].checked){var a=e.notifications[s];t.push(a)}})),this.selectedNotification=t,s=[],t.forEach((function(e){var t={reduction_proposal_no:e.reduction_proposal_no,supplier_no:e.supplier_no,person_id:e.person_id,client_no:localStorage.getItem("client_account_no"),client_name:e.client_name,expense_item_nm:c.selected_expense_item.expense_item_nm,del_flg:!1,create_id:localStorage.getItem("client_account_no"),update_id:localStorage.getItem("client_account_no")};s.push(t)})),e.next=9,f.postAPI(u["a"].EVALUATIONCREATEQUOTATION,s);case 9:a=e.sent,n=a.data,n.success?(o=n.data,i=1,r=[],o.forEach((function(e){var t={id:i,label:e.supplier_name,qNo:e.request_quotation_no};i++,r.push(t)})),this.quotationNotification=r,this.sendProposalMessage()):(this.loading=!1,this.sendMailError=this.$t("MAILERRORCONTACTADMIN"));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createQuotationRequest:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,o,i,r,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=this.selectedNotification,s=[],t.forEach((function(e){var t={reduction_proposal_no:e.reduction_proposal_no,supplier_no:e.supplier_no,person_id:e.person_id,client_no:localStorage.getItem("client_account_no"),client_name:e.client_name,expense_item_nm:c.selected_expense_item.expense_item_nm,del_flg:!1,create_id:localStorage.getItem("client_account_no"),update_id:localStorage.getItem("client_account_no")};s.push(t)})),e.next=6,f.postAPI(u["a"].EVALUATIONCREATEQUOTATION,s);case 6:a=e.sent,n=a.data,n.success?(o=n.data,i=1,r=[],o.forEach((function(e){var t={id:i,label:e.supplier_name,qNo:e.request_quotation_no};i++,r.push(t)})),this.quotationNotification=r,this.sendProposalMessage()):(this.loading=!1,this.sendMailError=this.$t("MAILERRORCONTACTADMIN"));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),individualExpenseConfirmation:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sendMailError="",this.selectedNotification=[t],this.showExpenseConfirmationModal();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),bulkExpenseConfirmation:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sendMailError="",this.hideBulkQuotationModal(),this.showBulkQuotationConfirmationModal();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUserManagementData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.postAPI(u["a"].EVALUATIONUSERMANAGEMENT,{accounts_name_cd:this.selected_expense_item.accounts_name_cd,expense_item_cd:this.selected_expense_item.expense_item_cd});case 2:t=e.sent,s=t.data,a=s.data,this.userManagement=void 0!=a?{title:a.user_management_title,notice:a.user_management}:-1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTreeData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.postAPI(u["a"].EVALUATIONREDUCTIONPROPOSALTREE,{client_no:localStorage.getItem("client_account_no")});case 2:t=e.sent,s=t.data,s.success&&(a=s.data,this.allTreeData=a,n=[],o=this._.groupBy(a,"accounts_name_nm"),Object.keys(o).forEach((function(e){var t=[];o[e].forEach((function(e){var s={text:e.expense_item_nm};t.push(s)}));var s={text:e,state:{expanded:!0},children:t};n.push(s)})),this.treeData=n,this.$store.dispatch("updateTree",n),this.displayButtons());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getReductionProposalMessagesList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,o,i,r,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.pageloading=!0,e.next=3,f.postAPI(u["a"].EVALUATIONREADREDUCTIONPROPOSALCLIENTEXPENSE,{client_no:localStorage.getItem("client_account_no"),accounts_name_cd:this.selected_expense_item.accounts_name_cd,expense_item_cd:this.selected_expense_item.expense_item_cd});case 3:t=e.sent,s=t.data,this.pageloading=!1,a=s.data,n=[],o=[],i=[],r=1,c=1,this.expenseItemName=this.selected_expense_item.expense_item_nm+this.$t("REDUCTIONPLAN"),a.length>0?(a.forEach((function(e){if("001"==e.reduction_proposal_type){var t={id:r,label:e.supplier_name,sublabel:e.reduction_proposal_name,supplier_no:e.supplier_no,reduction_proposal_no:e.reduction_proposal_no,client_name:e.client_name,person_name:e.person_name,person_id:e.person_id,checked:!0};r++,n.push(t)}else{var s={id:c,label:e.supplier_name,sublabel:e.reduction_proposal_name,supplier_no:e.supplier_no,reduction_proposal_no:e.reduction_proposal_no,client_name:e.client_name,person_name:e.person_name,person_id:e.person_id,checked:!0};c++,o.push(s)}})),l={id:1,subtitle:p["a"].t("SYSTEMAUTOMATICPROPOSAL"),notifications:n},i.push(l),l={id:2,subtitle:p["a"].t("SUPPLIERPROPOSAL"),notifications:o},i.push(l),this.messages.type_proposal.data=i,this.messages.type_proposal.title=this.selected_expense_item.expense_item_nm+this.$t("REDUCTIONPLAN")):this.messages.type_proposal.data=[],this.getUserManagementData();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},g=b,h=(s("694a"),s("fc32"),s("2877")),x=Object(h["a"])(g,a,n,!1,null,"ac32f35a",null);t["default"]=x.exports},"3f54":function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));s("7f7f");var a=s("3fba"),n=s("2f4e"),o=s("edfa"),i=s("8992"),r=s("41cb"),c=s("d3a4"),l=s("2b0e"),d=function(e){return console.log("error",e),e.response?401===e.request.status&&l["default"].swal.fire({type:"error",text:c["a"].t("UNAUTHORISED"),icon:"error",confirmButtonText:c["a"].t("LOGIN")}).then((function(e){e&&(i["d"].clear(),r["a"].push("/login"))})):l["default"].swal({type:"warning",text:c["a"].t("NETWORKERROR")}),e},u=function(e){var t=n["a"].MLOGIN,s=n["a"].LOGIN,a=n["a"].EVALUATIONUSERMANAGEMENT,r=n["a"].FORGOTPASSWORD,l=n["a"].MFORGOTPASSWORD,d=n["a"].EVALUATIONCLIENTCOSTEXPANSIONITEMLIST,u=n["a"].CLIENTREADCLIENTPOINTINFO,p=n["a"].DASHBOARD,m=n["a"].INTEGRATIONCLIENTDETAILS,_=n["a"].INTEGRATIONREADJOURNALSTATUS,f=n["a"].EVALUATIONEXPENSEITEMCOMPAISON,b=n["a"].INTEGRATIONREFRESHTOKEN,g=n["a"].EVALUATIONCOSTINFOTREELIST,h=n["a"].EVALUATIONCOMPANYJUDGEMENTCOMPARISON,x=n["a"].EVALUATIONEXPENSEITEMCOMPAISON,E=n["a"].EVALUATIONREADEXPENSISYEAR,v=n["a"].EVALUATIONREADYEARLYCOSTINFO;return 200==e.request.status&&e.data.success||e.config.url=="".concat(o["a"].apiUrl).concat(t)||e.config.url=="".concat(o["a"].apiUrl).concat(s)||e.config.url=="".concat(o["a"].apiUrl).concat(r)||e.config.url=="".concat(o["a"].apiUrl).concat(l)||e.config.url=="".concat(o["a"].apiUrl).concat(a)||e.config.url=="".concat(o["a"].apiUrl).concat(d)||e.config.url=="".concat(o["a"].apiUrl).concat(u)||e.config.url=="".concat(o["a"].apiUrl).concat(p)||e.config.url=="".concat(o["a"].apiUrl).concat(m)||e.config.url=="".concat(o["a"].apiUrl).concat(_)||e.config.url=="".concat(o["a"].apiUrl).concat(f)||e.config.url=="".concat(o["a"].apiUrl).concat(b)||e.config.url=="".concat(o["a"].apiUrl).concat(h)||e.config.url=="".concat(o["a"].apiUrl).concat(x)||e.config.url=="".concat(o["a"].apiUrl).concat(E)||e.config.url=="".concat(o["a"].apiUrl).concat(v)||e.config.url=="".concat(o["a"].apiUrl).concat(g)||Object(i["l"])(c["a"].t("ERRORMESSAGE")),e};a["a"].interceptors.response.use((function(e){return u(e)}),(function(e){return d(e)}));var p={getGroupTypes:function(e){return a["a"].post("".concat(n["a"].GROUPTYPESLIST),e)},postAPI:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(i["a"])()),a["a"].post("".concat(o["a"].apiUrl).concat(e),t,{headers:n})},getAPI:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(i["a"])()),a["a"].get("".concat(o["a"].apiUrl).concat(e),{params:t,headers:n})},getCourses:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={};return t&&(s=Object(i["a"])()),a["a"].get("".concat(n["a"].COURSE),{params:e,headers:s})},putAPI:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(i["a"])()),a["a"].put("".concat(o["a"].apiUrl).concat(e),t,{headers:n})},deleteAPI:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};return s&&(n=Object(i["a"])()),a["a"].delete("".concat(o["a"].apiUrl).concat(e),{params:t,headers:n})}},m={basic:p},_={get:function(e){return m[e]}}},"454f":function(e,t,s){s("46a7");var a=s("584a").Object;e.exports=function(e,t,s){return a.defineProperty(e,t,s)}},"46a7":function(e,t,s){var a=s("63b6");a(a.S+a.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},"58de":function(e,t,s){"use strict";var a=s("8a35"),n=s.n(a);n.a},"694a":function(e,t,s){"use strict";var a=s("f4cf"),n=s.n(a);n.a},"7cee":function(e,t,s){},"7f7f":function(e,t,s){var a=s("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in n||s("9e1e")&&a(n,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"85f2":function(e,t,s){e.exports=s("454f")},"8a35":function(e,t,s){},"8de1":function(e,t,s){"use strict";var a=s("7cee"),n=s.n(a);n.a},"8e6e":function(e,t,s){var a=s("5ca1"),n=s("990b"),o=s("6821"),i=s("11e9"),r=s("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(e){var t,s,a=o(e),c=i.f,l=n(a),d={},u=0;while(l.length>u)s=c(a,t=l[u++]),void 0!==s&&r(d,t,s);return d}})},"990b":function(e,t,s){var a=s("9093"),n=s("2621"),o=s("cb7c"),i=s("7726").Reflect;e.exports=i&&i.ownKeys||function(e){var t=a.f(o(e)),s=n.f;return s?t.concat(s(e)):t}},bd86:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s("85f2"),n=s.n(a);function o(e,t,s){return t in e?n()(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}},c7fd:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"min-tree-height"},[s("div",{staticClass:"font-weight-bold"},[e._v(e._s(e.treeTitle))]),0==e.treeData.length?[s("div",{staticClass:"text-center errorColor"},[e._v(" "+e._s(e.$t("GENRALDATAERRORMESSAGE"))+" ")])]:[s("tree",{ref:"tree",attrs:{id:"checkbox-group-tree",data:e.treeData,options:e.treeOptions},on:{"node:selected":e.onNodeSelected,"node:checked":e.getCheckedItem,"node:unchecked":e.getCheckedItem},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node;return s("span",{staticClass:"tree-text"},[a.hasChildren()?[s("span",{staticClass:"parent-text",attrs:{disabled:e.disabled(a.text)}},[e._v(" "+e._s(a.text)+" ")])]:[s("span",{staticClass:"tree-text mr-2",class:e.selected_expense_item.expense_item_nm==a.text?"selected-tree-text":""},[s("span",{staticClass:"children-text",class:{disabled:e.disabled(a.text),"selected-tree-text":e.selected_expense_item.expense_item_nm==a.text},attrs:{disabled:e.disabled(a.text)}},[e._v(" "+e._s(a.text)+" ")])])]],2)}}])})]],2)},n=[],o=(s("8e6e"),s("cadf"),s("456d"),s("ac6a"),s("7514"),s("bd86")),i=s("2f62");function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(s,!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={name:"SubMenuTree",components:{},inheritAttrs:!1,props:{treeOptions:{type:[Array,Object,String,Function],default:function(){return[]}},treeTitle:{type:String,default:function(){return[]}},disabledItems:{type:[Array],default:function(){return[]}}},data:function(){return{ids:[],checkedItems:[]}},computed:c({eventsList:function(){return this.events.concat().reverse()}},Object(i["b"])({costInfoTree:"getCostInfoTreeList",treeData:"getTree",selected_expense_item:"getSelectedExpenseItem",checkedItemsExpCodeArray:"getCheckedExpItemCodeArray"})),mounted:function(){},methods:{getCheckedItem:function(){var e=this,t=this.$refs.tree.findAll({state:{checked:!0}}).map((function(t){return e._.find(e.costInfoTree,{expense_item_nm:t.text?t.text:""})})),s=[];t.length>0&&t.forEach((function(e){null!=e&&s.push({accounts_name_cd:e.accounts_name_cd,expense_item_cd:e.expense_item_cd})})),this.$emit("update-multiselect-exp-item",s)},disabled:function(e){return-1!=this.disabledItems.indexOf(e)},onNodeSelected:function(e){var t=!(-1!=this.disabledItems.indexOf(e.text)||!e.parent);t&&(this.$emit("update-expense-type",e.text),this.selectedExpenseItem=e.text)},dd:function(){var e=this.$refs.tree.findAll({state:{checked:!1}});return e}}},d=l,u=(s("58de"),s("8de1"),s("2877")),p=Object(u["a"])(d,a,n,!1,null,"63e5df6f",null);t["a"]=p.exports},d67a:function(e,t,s){},f4cf:function(e,t,s){},fc32:function(e,t,s){"use strict";var a=s("d67a"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-b9a95e98.79e8cbba.js.map