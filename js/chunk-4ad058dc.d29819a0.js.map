{"version":3,"sources":["webpack:///./src/shared/apiServices/basicInfoService.js","webpack:///./src/shared/apiServiceFactory.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/management/journalImport/FreeAPIAccesstokenFetch.vue?eb5e","webpack:///src/views/management/journalImport/FreeAPIAccesstokenFetch.vue","webpack:///./src/views/management/journalImport/FreeAPIAccesstokenFetch.vue?4ba6","webpack:///./src/views/management/journalImport/FreeAPIAccesstokenFetch.vue?bc21","webpack:///./src/views/management/journalImport/FreeAPIAccesstokenFetch.vue?692e"],"names":["errorHandler","error","console","log","response","request","status","Vue","swal","fire","type","text","i18n","t","icon","confirmButtonText","then","res","clearLocalStorage","clear","router","push","successHandler","url","endPoint","MLOGIN","url2","LOGIN","usermanagement","EVALUATIONUSERMANAGEMENT","forgotPassword","FORGOTPASSWORD","mforgotPassword","MFORGOTPASSWORD","clientcostexpansionitemlist","EVALUATIONCLIENTCOSTEXPANSIONITEMLIST","readclientpointinfo","CLIENTREADCLIENTPOINTINFO","dashboard","DASHBOARD","clientDetailsUrl","INTEGRATIONCLIENTDETAILS","readjournalstatus","INTEGRATIONREADJOURNALSTATUS","evalutionExapanseComp","EVALUATIONEXPENSEITEMCOMPAISON","integrationRefreshToken","INTEGRATIONREFRESHTOKEN","dashboardCrfCostInfoTree","EVALUATIONCOSTINFOTREELIST","improvementExpenseComp","EVALUATIONCOMPANYJUDGEMENTCOMPARISON","evaluationExpenseComparison","evaluationReadExpensisYear","EVALUATIONREADEXPENSISYEAR","evaluationReadYearlyCostInfo","EVALUATIONREADYEARLYCOSTINFO","data","success","config","Config","apiUrl","showApiError","api","interceptors","use","getGroupTypes","payload","post","GROUPTYPESLIST","postAPI","auth","headers","authHeaders","getAPI","get","params","getCourses","COURSE","putAPI","put","deleteAPI","delete","services","basic","BasicInfoService","ApiServicesFactory","name","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","this","match","e","render","_vm","_h","$createElement","_c","_self","attrs","show","_v","_s","$t","staticClass","model","value","callback","$$v","trim","expression","clientIdDisableFlag","clientID","clientSecretDisableFlag","clientSecret","disableFlag","on","authenticate","staticRenderFns","components","window","location","href","watch","length","created","uri","localStorage","getItem","getClientDetails","methods","setItem","getToken","component"],"mappings":"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","file":"js/chunk-4ad058dc.d29819a0.js","sourcesContent":["import api from \"../api\";\r\nimport { endPoint } from \"../endPoint\";\r\nimport { Config } from \"../config\";\r\nimport { authHeaders, clearLocalStorage } from \"../utils\";\r\nimport router from \"../../router\";\r\nimport i18n from \"@/plugins/i18n\";\r\nimport Vue from \"vue\";\r\nimport { showApiError } from \"@/shared/utils\";\r\nconst errorHandler = (error) => {\r\n  console.log(\"error\",error)\r\n  if (!error.response) {\r\n    Vue.swal\r\n      ({\r\n        type: \"warning\",\r\n        text: i18n.t(\"NETWORKERROR\"),\r\n      })\r\n  } \r\n else if (error.request.status === 401) {\r\n    Vue.swal\r\n      .fire({\r\n        type: \"error\",\r\n        text: i18n.t(\"UNAUTHORISED\"),\r\n        icon: \"error\",\r\n        confirmButtonText: i18n.t(\"LOGIN\"),\r\n      })\r\n      .then((res) => {\r\n        if (res) {\r\n          clearLocalStorage.clear();\r\n          router.push(\"/login\");\r\n        }\r\n      });\r\n      \r\n  }\r\n  return error;\r\n};\r\n\r\nconst successHandler = (response) => {\r\n  let url=endPoint.MLOGIN\r\n  let url2=endPoint.LOGIN\r\n  let usermanagement = endPoint.EVALUATIONUSERMANAGEMENT\r\n  let forgotPassword = endPoint.FORGOTPASSWORD\r\n  let mforgotPassword = endPoint.MFORGOTPASSWORD\r\n  let clientcostexpansionitemlist=endPoint.EVALUATIONCLIENTCOSTEXPANSIONITEMLIST\r\n  let readclientpointinfo=endPoint.CLIENTREADCLIENTPOINTINFO\r\n  let dashboard=endPoint.DASHBOARD\r\n  let clientDetailsUrl = endPoint.INTEGRATIONCLIENTDETAILS\r\n  let readjournalstatus = endPoint.INTEGRATIONREADJOURNALSTATUS\r\n  let evalutionExapanseComp = endPoint.EVALUATIONEXPENSEITEMCOMPAISON\r\n  let integrationRefreshToken = endPoint.INTEGRATIONREFRESHTOKEN\r\n  let dashboardCrfCostInfoTree = endPoint.EVALUATIONCOSTINFOTREELIST\r\n  let improvementExpenseComp = endPoint.EVALUATIONCOMPANYJUDGEMENTCOMPARISON\r\n  let evaluationExpenseComparison = endPoint.EVALUATIONEXPENSEITEMCOMPAISON\r\n  let evaluationReadExpensisYear = endPoint.EVALUATIONREADEXPENSISYEAR\r\n  let evaluationReadYearlyCostInfo = endPoint.EVALUATIONREADYEARLYCOSTINFO\r\n  if (\r\n    (response.request.status != 200 || !response.data.success) &&\r\n      response.config.url != `${Config.apiUrl}${url}` &&\r\n      response.config.url != `${Config.apiUrl}${url2}` &&\r\n      response.config.url != `${Config.apiUrl}${forgotPassword}` &&\r\n      response.config.url != `${Config.apiUrl}${mforgotPassword}` &&\r\n      response.config.url != `${Config.apiUrl}${usermanagement}` &&\r\n      response.config.url != `${Config.apiUrl}${clientcostexpansionitemlist}` &&\r\n      response.config.url != `${Config.apiUrl}${readclientpointinfo}` &&\r\n      response.config.url != `${Config.apiUrl}${dashboard}` &&\r\n      response.config.url != `${Config.apiUrl}${clientDetailsUrl}` &&\r\n      response.config.url != `${Config.apiUrl}${readjournalstatus}` &&\r\n      response.config.url != `${Config.apiUrl}${evalutionExapanseComp}` &&\r\n      response.config.url != `${Config.apiUrl}${integrationRefreshToken}` &&\r\n      response.config.url != `${Config.apiUrl}${improvementExpenseComp}` &&\r\n      response.config.url != `${Config.apiUrl}${evaluationExpenseComparison}` &&\r\n      response.config.url != `${Config.apiUrl}${evaluationReadExpensisYear}` &&\r\n      response.config.url != `${Config.apiUrl}${evaluationReadYearlyCostInfo}` &&\r\n      response.config.url != `${Config.apiUrl}${dashboardCrfCostInfoTree}` \r\n  ) {\r\n    showApiError(i18n.t(\"ERRORMESSAGE\"));\r\n  }\r\n  return response;\r\n};\r\napi.interceptors.response.use(\r\n  (response) => successHandler(response),\r\n  (error) => errorHandler(error)\r\n);\r\nexport default {\r\n  getGroupTypes(payload) {\r\n    return api.post(`${endPoint.GROUPTYPESLIST}`, payload);\r\n  },\r\n\r\n  postAPI(url, payload, auth = false) {\r\n    let headers = {};\r\n    if (auth) {\r\n      headers = authHeaders();\r\n    }\r\n    return api.post(`${Config.apiUrl}${url}`, payload, { headers: headers });\r\n  },\r\n  getAPI(url, payload, auth = false) {\r\n    let headers = {};\r\n    if (auth) {\r\n      headers = authHeaders();\r\n    }\r\n\r\n    return api.get(`${Config.apiUrl}${url}`, {\r\n      params: payload,\r\n      headers: headers,\r\n    });\r\n  },\r\n  getCourses(payload, auth = false) {\r\n    let headers = {};\r\n    if (auth) {\r\n      headers = authHeaders();\r\n    }\r\n    return api.get(`${endPoint.COURSE}`, {\r\n      params: payload,\r\n      headers: headers,\r\n    });\r\n  },\r\n  putAPI(url, payload, auth = false) {\r\n    let headers = {};\r\n    if (auth) {\r\n      headers = authHeaders();\r\n    }\r\n    return api.put(`${Config.apiUrl}${url}`, payload, { headers: headers });\r\n  },\r\n  deleteAPI(url, payload, auth = false) {\r\n    let headers = {};\r\n    if (auth) {\r\n      headers = authHeaders();\r\n    }\r\n\r\n    return api.delete(`${Config.apiUrl}${url}`, {\r\n      params: payload,\r\n      headers: headers,\r\n    });\r\n  },\r\n};\r\n","import BasicInfoService from \"./apiServices/basicInfoService\";\r\nconst services = {\r\n  basic: BasicInfoService\r\n  // other repositories ...\r\n};\r\n\r\nexport const ApiServicesFactory = {\r\n  get: name => services[name]\r\n};\r\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.show,\"rounded\":\"sm\"}},[_c('div',[_c('div',[_c('b-row',[_c('b-col',{attrs:{\"xl\":\"2\"}}),_c('b-col',{attrs:{\"xl\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"CRF53STR1\"))+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t(\"CRF53STR2\"))+\" \"),_c('u',[_c('b-link',{staticClass:\"link\",attrs:{\"href\":\"javascript:;\"}},[_vm._v(_vm._s(_vm.$t(\"CRF53STR3\")))])],1),_vm._v(\" \"+_vm._s(_vm.$t(\"CRF53STR4\"))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t(\"CRF53STR5\"))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t(\"CRF53STR6\"))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t(\"CRF53STR7\"))),_c('span',{staticClass:\"span-text\"},[_vm._v(_vm._s(_vm.$t(\"CRF53STR8\")))]),_vm._v(_vm._s(_vm.$t(\"CRF53STR9\"))),_c('br')])],1),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"xl\":\"2\"}}),_c('b-col',{staticClass:\"ml-5\",attrs:{\"xl\":\"5\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"disabled\":\"\"},model:{value:(_vm.url),callback:function ($$v) {_vm.url=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"url\"}})],1)],1),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"xl\":\"2\"}}),_c('b-col',{attrs:{\"xl\":\"2\"}},[_c('label',{staticClass:\"highLightHeaderLabel\"},[_vm._v(_vm._s(_vm.$t(\"CLIENTID\")))]),_vm._v(\" \"),_c('b-button',{staticClass:\"px-16 required-btnAny float-right\",attrs:{\"variant\":\"primary\"}},[_vm._v(_vm._s(_vm.$t(\"REQUIREDBUTTON\")))])],1),_c('b-col',{attrs:{\"xl\":\"3\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"disabled\":_vm.clientIdDisableFlag,\"maxlength\":\"64\",\"onkeypress\":\"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))\"},model:{value:(_vm.clientID),callback:function ($$v) {_vm.clientID=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"clientID\"}})],1)],1),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"xl\":\"2\"}}),_c('b-col',{attrs:{\"xl\":\"2\"}},[_c('label',{staticClass:\"highLightHeaderLabel\"},[_vm._v(_vm._s(_vm.$t(\"CLIENTSECRET\")))]),_vm._v(\" \"),_c('b-button',{staticClass:\"px-16 required-btnAny float-right\",attrs:{\"variant\":\"primary\"}},[_vm._v(_vm._s(_vm.$t(\"REQUIREDBUTTON\")))])],1),_c('b-col',{attrs:{\"xl\":\"3\"}},[_c('b-form-input',{staticClass:\"form-control\",attrs:{\"disabled\":_vm.clientSecretDisableFlag,\"maxlength\":\"64\",\"onkeypress\":\"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))\"},model:{value:(_vm.clientSecret),callback:function ($$v) {_vm.clientSecret=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"clientSecret\"}})],1)],1),_c('br'),_c('b-row',{staticClass:\"d-flex justify-content-center mr-5\"},[_c('b-button',{attrs:{\"disabled\":_vm.disableFlag,\"variant\":\"primary\"},on:{\"click\":_vm.authenticate}},[_vm._v(_vm._s(_vm.$t(\"AUTHENTICATION\")))])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-overlay :show=\"show\" rounded=\"sm\">\r\n    <div>\r\n      <div>\r\n        <b-row>\r\n          <b-col xl=\"2\"></b-col>\r\n          <b-col xl=\"auto\">\r\n            {{ $t(\"CRF53STR1\") }} <br />\r\n            {{ $t(\"CRF53STR2\") }}\r\n            <u\r\n              ><b-link href=\"javascript:;\" class=\"link\">{{\r\n                $t(\"CRF53STR3\")\r\n              }}</b-link></u\r\n            >\r\n            {{ $t(\"CRF53STR4\") }}<br />\r\n            {{ $t(\"CRF53STR5\") }}<br />\r\n            {{ $t(\"CRF53STR6\") }}<br />\r\n            {{ $t(\"CRF53STR7\")\r\n            }}<span class=\"span-text\">{{ $t(\"CRF53STR8\") }}</span\r\n            >{{ $t(\"CRF53STR9\") }}<br />\r\n          </b-col>\r\n        </b-row>\r\n        <br />\r\n\r\n        <b-row>\r\n          <b-col xl=\"2\"></b-col>\r\n          <b-col xl=\"5\" class=\"ml-5\">\r\n            <b-form-input\r\n              v-model.trim=\"url\"\r\n              class=\"form-control\"\r\n              disabled\r\n            ></b-form-input>\r\n          </b-col>\r\n        </b-row>\r\n        <br />\r\n\r\n        <!-- Client ID -->\r\n        <b-row>\r\n          <b-col xl=\"2\"></b-col>\r\n          <b-col xl=\"2\">\r\n            <label class=\"highLightHeaderLabel\">{{ $t(\"CLIENTID\") }}</label\r\n            >&nbsp;&nbsp;\r\n            <b-button\r\n              variant=\"primary\"\r\n              class=\"px-16 required-btnAny float-right\"\r\n              >{{ $t(\"REQUIREDBUTTON\") }}</b-button\r\n            >\r\n          </b-col>\r\n          <b-col xl=\"3\">\r\n            <b-form-input\r\n              v-model.trim=\"clientID\"\r\n              :disabled=\"clientIdDisableFlag\"\r\n              maxlength=\"64\"\r\n              class=\"form-control\"\r\n              onkeypress=\"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))\"\r\n            ></b-form-input>\r\n          </b-col>\r\n        </b-row>\r\n        <br />\r\n\r\n        <!-- ClientSecret -->\r\n        <b-row>\r\n          <b-col xl=\"2\"></b-col>\r\n          <b-col xl=\"2\">\r\n            <label class=\"highLightHeaderLabel\">{{ $t(\"CLIENTSECRET\") }}</label\r\n            >&nbsp;&nbsp;\r\n            <b-button\r\n              variant=\"primary\"\r\n              class=\"px-16 required-btnAny float-right\"\r\n              >{{ $t(\"REQUIREDBUTTON\") }}</b-button\r\n            >\r\n          </b-col>\r\n          <b-col xl=\"3\">\r\n            <b-form-input\r\n              v-model.trim=\"clientSecret\"\r\n              :disabled=\"clientSecretDisableFlag\"\r\n              maxlength=\"64\"\r\n              onkeypress=\"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))\"\r\n              class=\"form-control\"\r\n            ></b-form-input>\r\n          </b-col>\r\n        </b-row>\r\n        <br />\r\n\r\n        <b-row class=\"d-flex justify-content-center mr-5\">\r\n          <b-button\r\n            @click=\"authenticate\"\r\n            :disabled=\"disableFlag\"\r\n            variant=\"primary\"\r\n            >{{ $t(\"AUTHENTICATION\") }}</b-button\r\n          >\r\n        </b-row>\r\n      </div>\r\n    </div>\r\n  </b-overlay>\r\n</template>\r\n\r\n<script>\r\nimport {ApiServicesFactory} from \"@/shared/apiServiceFactory\";\r\nconst BasicInfoApis = ApiServicesFactory.get(\"basic\");\r\nimport {Settings} from \"luxon\";\r\nSettings.defaultLocale = \"ja\";\r\nimport {endPoint} from \"@/shared/endPoint\";\r\n\r\nexport default {\r\n  name: \"FreeAPIAccesstokenFetch\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      url: window.location.href,\r\n      clientID: \"\",\r\n      clientSecret: \"\",\r\n      disableFlag: false,\r\n      show: true,\r\n      clientIdDisableFlag: true,\r\n      clientSecretDisableFlag: true,\r\n    };\r\n  },\r\n  watch: {\r\n    clientID: function () {\r\n      if (this.clientID.length != 0 && this.clientSecret.length) {\r\n        this.disableFlag = false;\r\n      } else {\r\n        this.disableFlag = true;\r\n      }\r\n    },\r\n    clientSecret: function () {\r\n      if (this.clientID.length != 0 && this.clientSecret.length) {\r\n        this.disableFlag = false;\r\n      } else {\r\n        this.disableFlag = true;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    let uri = window.location.href.split(\"?\");\r\n    //on page load check for url parameters, If url has access code, get client details and validate free account access code\r\n    if (uri.length === 2 && localStorage.getItem(\"freeApiTokenFlag\")) {\r\n      this.getClientDetails(() => {\r\n        this.show = true;\r\n        this.getToken();\r\n      });\r\n    } else {\r\n      //getClient details\r\n      this.getClientDetails(() => {});\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description function to set the clientId and clientSecret to localstorage and getToken function called\r\n     * @name authenticate\r\n     * @param none\r\n     * @returns nothing\r\n     */\r\n    authenticate() {\r\n      localStorage.setItem(\"clientId\", this.clientID);\r\n      localStorage.setItem(\"clientSecret\", this.clientSecret);\r\n      this.getToken();\r\n    },\r\n    /**\r\n     * @description function to get client details by passing client account number\r\n     * @name getClientDetails\r\n     * @param callback function\r\n     * @returns nothing\r\n     */\r\n    async getClientDetails(callback) {\r\n      const {data} = await BasicInfoApis.postAPI(\r\n        endPoint.INTEGRATIONCLIENTDETAILS,\r\n        {\r\n          client_no: localStorage.getItem(\"client_account_no\"),\r\n        }\r\n      );\r\n      this.show = false;\r\n      this.disableFlag = true;\r\n      // if success flag is true disable clientId and clientSecret text input\r\n      if (data.success) {\r\n        this.clientID = data.data.client_id;\r\n        this.clientSecret = data.data.client_secret;\r\n        this.show = false;\r\n        if (data.data.client_id === null) {\r\n          this.clientIdDisableFlag = false;\r\n        }\r\n        if (data.data.client_secret === null) {\r\n          this.clientSecretDisableFlag = false;\r\n        }\r\n        this.disableFlag = false;\r\n        callback(true);\r\n      } else {\r\n        this.show = false;\r\n        this.clientIdDisableFlag = false;\r\n        this.clientSecretDisableFlag = false;\r\n        callback(false);\r\n      }\r\n    },\r\n    /**\r\n     * @description function to get the token from the current uri\r\n     * @name getToken\r\n     * @param none\r\n     * @returns nothing\r\n     */\r\n    async getToken() {\r\n      let uri = window.location.href.split(\"?\");\r\n      //get for url parameter, check for url parameter has free account code\r\n      if (uri.length === 2) {\r\n        let uriParams = uri[1].split(\"&\");\r\n        let getUriParams = {};\r\n        let tmpArray = \"\";\r\n        uriParams.forEach(function (data) {\r\n          tmpArray = data.split(\"=\");\r\n          if (tmpArray.length == 2) getUriParams[tmpArray[0]] = tmpArray[1];\r\n        });\r\n        let code = \"\";\r\n        if (getUriParams.code[getUriParams.code.length - 1] === \"#\") {\r\n          code = getUriParams.code.slice(0, -1);\r\n        } else {\r\n          code = getUriParams.code;\r\n        }\r\n        //validate and add access code\r\n        const {data} = await BasicInfoApis.postAPI(\r\n          endPoint.INTEGRATIONREADACCESSTOKEN,\r\n          {\r\n            code: code,\r\n            client_no: localStorage.getItem(\"client_account_no\"),\r\n            create_id: localStorage.getItem(\"client_account_no\"),\r\n            update_id: localStorage.getItem(\"client_account_no\"),\r\n            redirect_uri: uri[0],\r\n            client_id: localStorage.getItem(\"clientId\"),\r\n            client_secret: localStorage.getItem(\"clientSecret\"),\r\n          }\r\n        );\r\n        if (data.message.code !== 2005) {\r\n          //if code is not correct navigate to free account\r\n          localStorage.setItem(\"freeApiTokenFlag\", true);\r\n          window.open(\r\n            `https://secure.freee.co.jp/oauth/authorize?client_id=${\r\n              this.clientID\r\n            }&redirect_uri=${encodeURIComponent(uri[0])}&response_type=code#`\r\n          );\r\n        } else {\r\n          //if the code is validated navigate to crf-54\r\n          this.show = false;\r\n          localStorage.removeItem(\"freeApiTokenFlag\");\r\n          localStorage.removeItem(\"clientId\");\r\n          localStorage.removeItem(\"clientSecret\");\r\n          this.$store.dispatch(\"updateLinkageInfoNo\", {\r\n            linkageInfoNo: data.data.linkage_info_no,\r\n          });\r\n          this.$router.push({ name: \"file_download\" });\r\n        }\r\n      } else {\r\n        //if url has access code, Then navigate to free account to get code\r\n        localStorage.setItem(\"freeApiTokenFlag\", true);\r\n        window.open(\r\n          `https://secure.freee.co.jp/oauth/authorize?client_id=${\r\n            this.clientID\r\n          }&redirect_uri=${encodeURIComponent(uri[0])}&response_type=code#`\r\n        );\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.required-btnAny {\r\n  padding: 2px 5px 2px 5px !important;\r\n  min-width: 10px !important;\r\n  font-size: 11px;\r\n  border-radius: 0px;\r\n  cursor: default !important;\r\n}\r\n.link {\r\n  color: blue;\r\n}\r\n.span-text {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreeAPIAccesstokenFetch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreeAPIAccesstokenFetch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FreeAPIAccesstokenFetch.vue?vue&type=template&id=81b7a85e&\"\nimport script from \"./FreeAPIAccesstokenFetch.vue?vue&type=script&lang=js&\"\nexport * from \"./FreeAPIAccesstokenFetch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FreeAPIAccesstokenFetch.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreeAPIAccesstokenFetch.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreeAPIAccesstokenFetch.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}