(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63a94968"],{"0037":function(t,e,n){},1693:function(t,e,n){},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"85f2":function(t,e,n){t.exports=n("454f")},"8cbe":function(t,e,n){"use strict";var a=n("1693"),s=n.n(a);s.a},"8e6e":function(t,e,n){var a=n("5ca1"),s=n("990b"),r=n("6821"),i=n("11e9"),o=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=r(t),c=i.f,l=s(a),u={},p=0;while(l.length>p)n=c(a,e=l[p++]),void 0!==n&&o(u,e,n);return u}})},9166:function(t,e,n){"use strict";var a=n("0037"),s=n.n(a);s.a},"990b":function(t,e,n){var a=n("9093"),s=n("2621"),r=n("cb7c"),i=n("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=a.f(r(t)),n=s.f;return n?e.concat(n(t)):e}},bd86:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("85f2"),s=n.n(a);function r(t,e,n){return e in t?s()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},fb7d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("b-card",{attrs:{id:"filterCard","no-body":""}},[n("b-row",[n("b-col",{staticClass:"mb-2 mr-sm-2 mb-sm-0 title-fw"},[n("label",{staticClass:"label mb-2 mr-sm-2 mb-sm-0"},[t._v(" "+t._s(t.$t("FILTER"))+" ")])])],1),n("b-row",[n("b-col",{staticClass:"mb-6",attrs:{cols:"12",xl:"3"}},[n("b-input-group",[n("b-input-group-prepend",[n("b-button",{staticClass:"append-btn",attrs:{size:"sm",variant:"info"}},[t._v(t._s(t.$t("PERSONINCHARGENAME")))])],1),n("DropDownSearch",{staticClass:"searchSelect1",attrs:{searchList:t.processorNameOptions},on:{selected_person_data:t.selectedPerson}})],1)],1),n("b-col",{staticClass:"mb-1 py-1",attrs:{cols:"12",xl:"4"}},[n("b-form-checkbox-group",{staticClass:"small-fs",attrs:{id:"checkbox-group-1",options:t.permissionOptions,size:"sm"},on:{change:t.updateFilter},model:{value:t.inputFilter.permission,callback:function(e){t.$set(t.inputFilter,"permission",e)},expression:"inputFilter.permission"}})],1),n("b-col",{staticClass:"mb-1",attrs:{cols:"12",xl:"3"}},[n("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[n("b-input-group-prepend",[n("b-button",{staticClass:"append-btn",attrs:{size:"sm",variant:"info"}},[t._v(t._s(t.$t("AFFILIATEDCOMPANY")))])],1),n("DropDownSearch",{staticClass:"searchSelect1",attrs:{searchList:t.affiliatedCompanyOptions},on:{selected_person_data:t.personCompanyData}}),n("span",[t.affiliatedCompanyLoading?n("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1),n("b-col",{staticClass:"mb-1",attrs:{cols:"12",xl:"2"}},[n("b-button",{staticClass:"Detailsbtn person-btn",attrs:{disabled:!t.getContentAccess(),variant:"primary"},on:{click:t.addPersonIncharge}},[t._v(t._s(t.$t("ADD.PERSON.INCHARGE")))])],1)],1)],1),n("b-card",[n("b-row",{staticClass:"table-height"},[n("b-col",{attrs:{xl:"12"}},[n("b-table",{ref:"selectableTable",attrs:{fields:t.fields,items:t.tableData,busy:t.isBusy,bordered:!1,striped:!1,borderless:!1,outlined:!1,fixed:"",responsive:"sm","sticky-header":"","head-variant":"light",small:"small","show-empty":""},scopedSlots:t._u([{key:"empty",fn:function(){return[n("div",{staticClass:"text-center errorColor"},[t._v(" "+t._s(t.$t("GENRALDATAERRORMESSAGE"))+" ")])]},proxy:!0},{key:"table-colgroup",fn:function(e){return t._l(e.fields,(function(t){return n("col",{key:t.key,style:{width:"checkState"===t.key?"30px":"110px"}})}))}},{key:"cell(checkState)",fn:function(e){return[n("b-form-radio",{attrs:{id:"radio-"+e.index,name:"table-radio"},on:{change:function(n){return t.costToggleSelectAll(e)}},model:{value:e.item.checkState,callback:function(n){t.$set(e.item,"checkState",n)},expression:"item.item.checkState"}})]}},{key:"cell(InchargeName)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Permission)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(AffiliatedCompony)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Department)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Position)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(MailAddress)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Authority)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(CreatedDate)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(UpdateDate)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Icon)",fn:function(e){return[n("b-button",{staticClass:"Detailsbtn",attrs:{disabled:!t.getContentAccess()&&t.personID!=e.item.person_id,variant:"primary"},on:{click:function(n){return t.getPersonData(e)}}},[t._v(t._s(t.$t("EDIT")))])]}},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0}])})],1)],1)],1)],1),n("b-row",[n("b-col",{staticClass:"mb-1",attrs:{cols:"12",xl:"4"}},[n("b-button",{attrs:{disabled:0==t.checkedItems.length,variant:"primary"},on:{click:t.deletePersonIncharge}},[t._v(t._s(t.$t("DELETEBATCHPERSONINCHARGE")))])],1),n("b-col",{staticClass:"mb-1 mt-1",attrs:{cols:"12",xl:"5"}},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.limit,size:"sm"},scopedSlots:t._u([{key:"prev-text",fn:function(){return[t._v(t._s(t.$t("PREVIOUS")))]},proxy:!0},{key:"next-text",fn:function(){return[t._v(t._s(t.$t("NEXT")))]},proxy:!0},{key:"page",fn:function(e){var a=e.page,s=e.active;return[n(s?"strong":"i",[t._v(t._s(a))])]}}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),n("b-col",{staticClass:"mb-1",attrs:{cols:"12",xl:"3"}},[n("div",{staticClass:"countList"},[n("label",[t._v(t._s(t.$t("MEANS")))]),t._v(" "),t._l(t.pageOptions,(function(e,a){return[t.limit==e?n("b-link",{key:a,attrs:{href:"javascript:;"}},[t._v(" "+t._s(e)+" "),a!=t.pageOptions.length-1?n("span",[t._v(" | ")]):t._e()]):n("b-link",{key:a,attrs:{href:"javascript:;"},on:{click:function(n){return t.perPageChange(e)}}},[n("u",[t._v(t._s(e))]),a!=t.pageOptions.length-1?n("span",[t._v(" | ")]):t._e()])]}))],2)])],1),n("br")],1)},s=[],r=(n("8e6e"),n("cadf"),n("456d"),n("ac6a"),n("96cf"),n("3b8d")),i=n("bd86"),o=n("5f6f"),c=n("3f54"),l=n("8992"),u=n("d3a4"),p=n("2f4e");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=c["a"].get("basic"),m={person_name:"",permission:[]},b={name:"PersonInchargeList",components:{DropDownSearch:o["a"]},data:function(){return{affiliatedCompanyOptions:[],total:0,limit:50,start:0,currentPage:1,pageOptions:[50,100,200],inputFilter:{},isBusy:!1,company_name:"",affiliatedCompanyLoading:!1,tableData:[],checkedItems:[],processorNameOptions:[],personID:""}},computed:{totalRows:function(){return this.total?this.total:this.getRowCount()},fields:function(){return[{key:"checkState",label:"",class:"text-left"},{key:"InchargeName",label:this.$t("PERSONINCHARGETABLE.PERSONINCHARGENAME"),class:"text-left"},{key:"Permission",label:this.$t("PERSONINCHARGETABLE.ACCOUNTPERMISSION"),class:"text-left"},{key:"AffiliatedCompony",label:this.$t("AFFILIATEDCOMPANY"),class:"text-left"},{key:"Department",label:this.$t("PERSONINCHARGETABLE.DEPARTMENT"),class:"text-left"},{key:"Position",label:this.$t("PERSONINCHARGETABLE.POSITION"),class:"text-left"},{key:"MailAddress",label:this.$t("PERSONINCHARGETABLE.MAILADDRESS"),class:"text-left"},{key:"Authority",label:this.$t("PERSONINCHARGETABLE.AUTHORITY"),class:"text-center"},{key:"CreatedDate",label:this.$t("PERSONINCHARGETABLE.CREATEDDATE"),class:"text-center"},{key:"UpdateDate",label:this.$t("PERSONINCHARGETABLE.UPDATEDATE"),class:"text-center"},{key:"Icon",label:"",class:"text-center"}]},items:function(){return this.tableData},permissionOptions:function(){return[{text:u["a"].t("OPERATOR"),value:"1"},{text:u["a"].t("SUPPLIERREPRESENTATIVE"),value:"2"},{text:u["a"].t("SYSTEMADMINISTRATOR"),value:"3"}]}},watch:{currentPage:function(){this.pageChange(this.currentPage)},startPage:function(){this.currentPage=this.startPage+1}},mounted:function(){this.getPersonInchargeList(),this.getAffiliatedCompanyList(),this.readPerson(),this.personID=localStorage.getItem("personID")},created:function(){this.inputFilter=h({},m)},methods:{getRowCount:function(){return this.items.length},pageChange:function(t){this.start=t-1,this.getPersonInchargeList()},perPageChange:function(t){this.limit=t,this.getPersonInchargeList()},getContentAccess:function(){var t=localStorage.getItem("person_auth");return"02"==t},personCompanyData:function(t){this.company_name=t.value,this.getPersonInchargeList()},updateFilter:function(){var t=this;setTimeout((function(){t.getPersonInchargeList()}),0)},addPersonIncharge:function(){this.$store.dispatch("updatePersonAndMode",{person_id:"",isEditmode:!1}),this.$router.push({name:"personMgmt_addEdit"})},selectedPerson:function(t){this.inputFilter.person_name=t.text,this.getPersonInchargeList()},getPersonData:function(t){this.$store.dispatch("updatePersonAndMode",{person_id:t.item.person_id,isEditmode:!0}),this.$router.push({name:"personMgmt_addEdit"})},costToggleSelectAll:function(t){this.checkedItems=[];var e=t.item;this.checkedItems.push(e)},deletePersonIncharge:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$swal({text:u["a"].t("DELETEPERSONINCHARGE"),type:"warning",showCancelButton:!0,confirmButtonText:u["a"].t("YESDELETE"),cancelButtonText:u["a"].t("NODELETE")}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.value){t.next=9;break}return a=[],e.checkedItems.forEach((function(t){a.push(t.person_id)})),s={conditions:[{key:"person_id",value:a}],update_id:localStorage.getItem("personID")},t.next=6,d.postAPI(p["a"].MASTERSOFTDELETEMPERSON,s);case 6:r=t.sent,i=r.data,i.success?e.getPersonInchargeList():e.$swal({type:"error",text:u["a"].t("NOTDELETED")});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAffiliatedCompanyList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.affiliatedCompanyLoading=!0,e={fieldlist:["code","value_string_small"],conditions:[{key:"m_general_purpose.key",value:"AFFI"}]},t.next=4,d.postAPI(p["a"].READMGENERALPURPOSE,e);case 4:n=t.sent,a=n.data,this.affiliatedCompanyLoading=!1,a.success&&(s=a.data,this.affiliatedCompanyOptions=[],s.length&&s.forEach((function(t){r.affiliatedCompanyOptions.push({value:t.code,text:t.value_string_small})})));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getPersonInchargeList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,r,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,e=[],this.inputFilter.person_name&&e.push({key:"m_person.person_name",value:this.inputFilter.person_name,operator:"like"}),this.company_name&&e.push({key:"m_person.person_company",value:this.company_name,operator:"like"}),this.inputFilter.permission.length&&this.inputFilter.permission.forEach((function(t){switch(t){case"1":e.push({key:"apl_manager_account.wiz_auth_flg",value:!0,operator:"="});break;case"2":e.push({key:"apl_manager_account.supplier_auth_flg",value:!0,operator:"="});break;case"3":e.push({key:"apl_manager_account.system_auth_flg",value:!0,operator:"="});break;default:break}})),n={conditions:e,limit:this.limit,offset:10*this.start,paginate:!0},t.next=8,d.postAPI(p["a"].PERSONLIST,n);case 8:a=t.sent,s=a.data,this.isBusy=!1,this.total=0,s.success&&(r=s.data.data,i=[],this.total=s.data.total,r.forEach((function(t){var e={checkState:!1,person_id:t.person_id,InchargeName:t.person_name,Permission:o.getPermission(t.wiz_auth_flg,t.supplier_auth_flg,t.system_auth_flg),AffiliatedCompony:t.person_company,Department:t.person_department,Position:o.getPersonPosition(t.person_position),MailAddress:t.person_mail,Authority:o.getPersonAuth(t.person_auth_kbn),CreatedDate:Object(l["g"])(new Date(t.create_dt)),UpdateDate:Object(l["g"])(new Date(t.update_dt))};i.push(e)})),this.tableData=i);case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getPersonPosition:function(t){var e="";switch(t){case"001":e=u["a"].t("PERSONPOSITION.GENERAL");break;case"002":e=u["a"].t("PERSONPOSITION.CHIEF");break;case"003":e=u["a"].t("PERSONPOSITION.SECTIONMANAGER");break;case"004":e=u["a"].t("PERSONPOSITION.HOD");break;case"005":e=u["a"].t("PERSONPOSITION.EXECUTIVE");break;default:e="";break}return e},getPersonAuth:function(t){var e="";switch(t){case"01":e=u["a"].t("PERSONPOSITION.GENERAL");break;case"02":e=u["a"].t("ADMIN");break;default:e="";break}return e},getPermission:function(t,e,n){var a=[];return t&&a.push(u["a"].t("OPERATOR")),e&&a.push(u["a"].t("SUPPLIERREPRESENTATIVE")),n&&a.push(u["a"].t("SYSTEMADMINISTRATOR")),a.toString()},readPerson:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.postAPI(p["a"].MASTERREADMPERSON,{fieldlist:["person_id","person_name"]});case 2:e=t.sent,n=e.data,n.success?(a=n.data,a.length&&a.forEach((function(t){s.processorNameOptions.push({value:t.person_id,text:t.person_name})}))):this.processorNameOptions=[];case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},g=b,E=(n("9166"),n("8cbe"),n("2877")),_=Object(E["a"])(g,a,s,!1,null,"11e03152",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-63a94968.192aea5b.js.map