(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc907822"],{"159c":function(t,e,s){},"26bf":function(t,e,s){"use strict";var r=s("159c"),n=s.n(r);n.a},2980:function(t,e,s){},3708:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-form",{staticClass:"padding-level-1",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("b-row",[s("b-col",{attrs:{cols:"12",xl:"2"}},[s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ACCOUNT")))])]),s("b-col",{attrs:{cols:"12",xl:"3"}},[s("b-form-input",{staticClass:"form-control",attrs:{disabled:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1),s("b-row",[s("b-col",{attrs:{cols:"12",xl:"2"}},[s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ITEMCODE")))])]),s("b-col",{attrs:{cols:"12",xl:"3"}},[s("b-form-input",{staticClass:"form-control",attrs:{value:"111",disabled:""},model:{value:t.itemCode,callback:function(e){t.itemCode=e},expression:"itemCode"}})],1),s("b-col",{attrs:{cols:"12",xl:"2"}},[s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("ITEMNAME")))])]),s("b-col",{attrs:{cols:"12",xl:"3"}},[s("b-form-input",{staticClass:"form-control",attrs:{value:"ガス代",disabled:""},model:{value:t.itemName,callback:function(e){t.itemName=e},expression:"itemName"}})],1)],1),s("br"),s("b-row",[s("b-col",{attrs:{xl:"4"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"12",xl:"6"}},[s("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("SETTINGYEAR")))])],1),s("b-col",{attrs:{cols:"12",xl:"6"}},[s("b-form-select",{attrs:{plain:!0,options:t.options,"value-field":"item","text-field":"name"},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)],1)],1),s("b-col",{attrs:{xl:"4"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"12",xl:"6"}},[s("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("COMPANYSIZE")))])],1),s("b-col",{attrs:{cols:"12",xl:"6"}},[s("b-form-select",{attrs:{plain:!0,options:t.CompanySizeoptions,"value-field":"item","text-field":"name"},model:{value:t.$v.selectedCompanySize.$model,callback:function(e){t.$set(t.$v.selectedCompanySize,"$model",e)},expression:"$v.selectedCompanySize.$model"}}),s("show-errors",{attrs:{control:t.$v.selectedCompanySize,field:t.$t("COMPANYSIZE")}})],1)],1)],1)],1),s("br"),s("b-row",{staticClass:"mb-2"},[s("b-col",{attrs:{xl:"4"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"12",xl:"6"}},[s("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("STANDARDMONTHLYFEE")))])],1),s("b-col",[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"10",xl:"8"}},[s("b-form-input",{staticClass:"form-control",attrs:{maxlength:"7",onkeypress:"return ( (event.charCode !=8 && event.charCode ==0) || (event.charCode >= 48 && event.charCode <= 57))",value:"50"},model:{value:t.monthlyFee,callback:function(e){t.monthlyFee=e},expression:"monthlyFee"}})],1),s("b-col",{attrs:{cols:"2",xl:"1"}},[t._v(" "+t._s(t.$t("DASHBOARD.COST_UNIT"))+" ")])],1)],1)],1)],1),s("b-col",{attrs:{xl:"4"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"12",xl:"6"}},[s("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("INDUSTRYAVERAGE")))])],1),s("b-col",[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"10",xl:"8"}},[s("b-form-input",{staticClass:"form-control",attrs:{maxlength:"7",onkeypress:"return ( (event.charCode !=8 && event.charCode ==0) || (event.charCode >= 48 && event.charCode <= 57))",value:"150,000"},model:{value:t.costFeeUpperLimit,callback:function(e){t.costFeeUpperLimit=e},expression:"costFeeUpperLimit"}})],1),s("b-col",{attrs:{cols:"2",xl:"1"}},[t._v(" "+t._s(t.$t("DASHBOARD.COST_UNIT"))+" ")])],1)],1)],1)],1)],1),s("br"),s("b-row",{staticClass:"mb-2"},[s("b-col",{attrs:{xl:"6"}},[s("b-row",{staticClass:"d-flex align-items-center"},[s("b-col",{attrs:{cols:"12",xl:"4"}},[s("b-button",{staticClass:"px-2 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),s("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("INDUSTRY")))])],1)],1)],1)],1),s("div",{staticClass:"border border-dark pl-4 pr-4 mt-2"},[s("b-row",[s("SubMenuTree",{attrs:{treeTitle:"",industry:!0,data:t.treeData,"tree-options":t.treeOptions},on:{"update-multiselect-industry-item":t.updateMultipleIndustryItem}})],1)],1),s("br"),s("b-button",{staticClass:"px-4 align-content-center",attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.buttonSelect)+" "),t.isBusy?s("i",{staticClass:"fa fa-spinner fa-spin",attrs:{disabled:t.isBusy}}):t._e()]),s("br"),s("br")],1)],1)},n=[],a=(s("8e6e"),s("cadf"),s("456d"),s("96cf"),s("3b8d")),i=(s("7514"),s("ac6a"),s("6b54"),s("a481"),s("bd86")),c=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"min-tree-height"},[s("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.treeTitle))]),0==t.treeData.length?[s("div",{staticClass:"text-center errorColor"},[t._v(" "+t._s(t.$t("GENRALDATAERRORMESSAGE"))+" ")])]:[s("tree",{ref:"tree",attrs:{data:t.treeData,options:t.treeOptions},on:{"node:checked":t.getCheckedItem,"node:unchecked":t.getCheckedItem},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.node;return s("span",{staticClass:"tree-text"},[r.hasChildren()?[s("u",[t._v(t._s(r.text))])]:[s("u",{staticClass:"tree-text",class:t.selected_expense_item.expense_item_nm==r.text?"selected-tree-text":""},[s("span",[t._v(" "+t._s(r.text)+" ")])])]],2)}}])})]],2)},l=[];function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"SubMenuTree",components:{},inheritAttrs:!1,props:{treeOptions:{type:[Array,Object,String,Function],default:function(){return[]}},treeTitle:{type:String,default:function(){return[]}},industry:{type:Boolean,default:!1}},data:function(){return{ids:[],checkedItems:[]}},computed:d({eventsList:function(){return this.events.concat().reverse()}},Object(c["b"])({industryTree:"getIndustryTree",treeData:"getIndustryTree",selected_expense_item:"getSelectedExpenseItem",checkedItemsExpCodeArray:"getCheckedExpItemCodeArray"})),mounted:function(){},methods:{getCheckedItem:function(){var t=this.$refs.tree.findAll({state:{checked:!0}}).map((function(t){return t.text}));this.$emit("update-multiselect-industry-item",t)}}},m=h,p=(s("80b7"),s("26bf"),s("2877")),b=Object(p["a"])(m,o,l,!1,null,"b457d45e",null),y=b.exports,f=s("3f54"),_=s("b5ae"),v=s("c827"),g=s("2f4e");function C(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function D(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?C(s,!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):C(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var x=f["a"].get("basic"),I={name:"JudgementSettingYear",components:{SubMenuTree:y,ShowErrors:v["a"]},data:function(){return{account:"",itemCode:"",itemName:"",industryName:"",monthlyFee:"",upperLimit:"",lowerLimit:"",costFeeUpperLimit:"",selectedYear:"",options:[],CompanySizeoptions:[{item:"1",name:"小規模"},{item:"2",name:"中規模"},{item:"3",name:"大規模"}],selectedCompanySize:"",treeOptions:{checkbox:!0},allTreeData:[],treeData:[],allIndustryTreeData:[],industryNo:"",kbn2Data:[],isBusy:"",accountCd:"",buttonSelect:this.$t("SAVE"),currentSelectedIndustryItem:"",checkedList:[]}},validations:{industryName:{required:_["required"]},selectedCompanySize:{required:_["required"]}},computed:D({},Object(c["b"])({masterData:"getExpenseYMData",selected_industry_item:"getSelectedIndustryItem"})),mounted:function(){this.getIndustryTreeData(),this.setYearOptions()},methods:{cancel:function(){this.$refs["tree-modal1"].hide()},setYearOptions:function(){for(var t=parseInt((new Date).getFullYear())-10,e=parseInt((new Date).getFullYear())+10,s=t;s<=e;s++)this.options.push({item:s,name:s+this.$t("YEAR")})},filterByCurrency:function(t){try{return parseInt(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}catch(e){return 0}},convertCurrency:function(t){try{return String(t).replace(/,/g,"")}catch(e){return 0}},getStoreData:function(){var t=this;if(this.account=this.masterData.AccountCode,this.itemCode=this.masterData.ExpenseCode,this.itemName=this.masterData.ExpenseName,this.accountCd=this.masterData.AccountCd,null!=this.masterData.YearData){this.selectedYear=this.masterData.YearData.item.set_year,this.selectedCompanySize=this.masterData.YearData.item.company_size,this.monthlyFee=this.masterData.YearData.item.standard_monthly_fee,this.upperLimit=this.masterData.YearData.item.reduction_upper_limit,this.lowerLimit=this.masterData.YearData.item.reduction_lower_limit,this.costFeeUpperLimit=this.masterData.YearData.item.industry_average,this.allIndustryTreeData.forEach((function(e){2==e.industry_kbn&&t.kbn2Data.push(e)}));var e=this._.find(this.kbn2Data,{industry_nm:this.masterData.YearData.item.industry});this.industryNo=e.industry_no,this.industryName=this.masterData.YearData.item.industry,this.buttonSelect=this.$t("UPDATE")}else this.selectedYear=(new Date).getFullYear(),this.selectedCompanySize=1,this.buttonSelect=this.$t("SAVE")},selectIndustry:function(){this.currentSelectedIndustryItem="",this.$refs["tree-modal1"].show()},getIndustryTreeData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,s,r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.postAPI(g["a"].MASTERREADDATAMINDUSTRY,{fieldlist:["*"],conditions:[{key:"industry_kbn",value:["01","02"]}]});case 2:e=t.sent,s=e.data,s.success&&(r=s.data,this.allIndustryTreeData=r,n=[],a=this._.sortBy(r,"industry_big_cd"),i=this._.groupBy(a,"industry_big_cd"),Object.keys(i).forEach((function(t){var e=[],s=[];i[t].forEach((function(t){if(1==t.industry_kbn){var r=t.industry_nm;s.push(r)}else{var n={text:t.industry_nm};e.push(n)}}));var r=":"+s[0];if("A"==t){var a={text:t+r,state:{expanded:!0},children:e};n.push(a)}else{var c={text:t+r,state:{expanded:!1},children:e};n.push(c)}})),this.$store.dispatch("updateIndustryTree",n),this.getStoreData());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateIndustryItem:function(t){var e=this;this.allIndustryTreeData.forEach((function(t){2==t.industry_kbn&&e.kbn2Data.push(t)}));var s=this._.find(this.kbn2Data,{industry_nm:t});this.$store.dispatch("updateselectedIndustryItem",{industry_nm:s.industry_nm,industry_no:s.industry_no}),this.currentSelectedIndustryItem=s.industry_nm,this.getIndustryName()},updateMultipleIndustryItem:function(t){var e=this;this.kbn2Data=[],this.checkedList=[],this.allIndustryTreeData.forEach((function(t){2==t.industry_kbn&&e.kbn2Data.push(t)}));for(var s=0;s<this.kbn2Data.length;s++)-1!==t.indexOf(this.kbn2Data[s].industry_nm)&&this.checkedList.push(this.kbn2Data[s].industry_nm);console.log(this.checkedList.length)},getIndustryName:function(){this.currentSelectedIndustryItem=this.selected_industry_item.industry_nm,this.industryName=this.selected_industry_item.industry_nm,this.industryNo=this.selected_industry_item.industry_no},submit:function(){if(this.$v.selectedCompanySize.$touch(),this.$v.industryName.$touch(),!this.$v.selectedCompanySize.$invalid)if(null!=this.masterData.YearData)this.updateData();else for(var t=0;t<this.checkedList.length;t++){var e=this._.find(this.kbn2Data,{industry_nm:this.checkedList[t]});this.$store.dispatch("updateselectedIndustryItem",{industry_nm:e.industry_nm,industry_no:e.industry_no}),this.currentSelectedIndustryItem=e.industry_nm,console.log("this.currentSelectedIndustryItem "+this.currentSelectedIndustryItem),this.getIndustryName(),this.createData()}},updateData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,t.next=3,x.postAPI(g["a"].MASTERUPDATEMEXPENSEITEMSETY,{data:[{set_year:this.selectedYear,industry_no:this.industryNo,company_size:this.selectedCompanySize,accounts_name_cd:this.accountCd,expense_item_cd:this.itemCode,standard_annual_savings:this.monthlyFee?this.convertCurrency(this.monthlyFee):"",reduction_range_up:this.upperLimit,reduction_range_low:this.lowerLimit,cost_industry_average:this.costFeeUpperLimit?this.convertCurrency(this.costFeeUpperLimit):"",del_flg:!1,update_id:localStorage.getItem("client_account_no")}],conditions:[{key:"expense_item_set_y_no",value:this.masterData.YearData.item.set_y_no}]});case 3:e=t.sent,s=e.data,s.success?(this.isBusy=!1,this.$router.push({name:"expense_item_add_edit"})):this.isBusy=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,t.next=3,x.postAPI(g["a"].MASTERCREATEMEXPENSEITEMSETY,[{set_year:this.selectedYear,industry_no:this.industryNo,company_size:this.selectedCompanySize,accounts_name_cd:this.accountCd,expense_item_cd:this.itemCode,standard_annual_savings:this.monthlyFee,reduction_range_up:this.upperLimit,reduction_range_low:this.lowerLimit,cost_industry_average:this.costFeeUpperLimit,del_flg:!1,update_id:localStorage.getItem("client_account_no"),create_id:localStorage.getItem("client_account_no")}]);case 3:e=t.sent,s=e.data,s.success?(this.isBusy=!1,this.$router.push({name:"expense_item_add_edit"})):this.isBusy=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},S=I,O=(s("c8b8"),Object(p["a"])(S,r,n,!1,null,null,null));e["default"]=O.exports},"454f":function(t,e,s){s("46a7");var r=s("584a").Object;t.exports=function(t,e,s){return r.defineProperty(t,e,s)}},"46a7":function(t,e,s){var r=s("63b6");r(r.S+r.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},"80b7":function(t,e,s){"use strict";var r=s("e14e"),n=s.n(r);n.a},"85f2":function(t,e,s){t.exports=s("454f")},"8e6e":function(t,e,s){var r=s("5ca1"),n=s("990b"),a=s("6821"),i=s("11e9"),c=s("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,s,r=a(t),o=i.f,l=n(r),u={},d=0;while(l.length>d)s=o(r,e=l[d++]),void 0!==s&&c(u,e,s);return u}})},"990b":function(t,e,s){var r=s("9093"),n=s("2621"),a=s("cb7c"),i=s("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=r.f(a(t)),s=n.f;return s?e.concat(s(t)):e}},bd86:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var r=s("85f2"),n=s.n(r);function a(t,e,s){return e in t?n()(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},c8b8:function(t,e,s){"use strict";var r=s("2980"),n=s.n(r);n.a},e14e:function(t,e,s){}}]);
//# sourceMappingURL=chunk-fc907822.bc83af6c.js.map